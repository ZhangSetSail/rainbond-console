(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[62],{"4fJY":function(e,t,a){"use strict";var r=a("tAuX"),s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p,n,i,o=a("MuoO"),m=a("7DNP"),c=r(a("q1tI")),h=a("LLXN"),u=s(a("pYXB")),d=s(a("fNFb")),l=s(a("XZXw")),f=s(a("2lxJ")),g=a("vSx2"),y=s(a("QDog")),b=s(a("hMqj")),P=(p=(0,o.connect)(e=>{var t=e.teamControl,a=e.enterprise;return{currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:a.currentEnterprise,currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}}),p((i=class extends c.PureComponent{constructor(e){super(e),this.getGroupId=(()=>{var e=this.props.match.params;return e.appID}),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return b.default.querySpecifiedPermissionsInfo(t,e)}),this.fetchAppDetail=(()=>{var e=this.props,t=e.dispatch,a=e.match,r=a.params,s=r.teamName,p=r.regionName,n=r.appID;t({type:"application/fetchGroupDetail",payload:{team_name:s,region_name:p,group_id:n},callback:e=>{e&&200===e.status_code&&this.setState({appDetail:e.bean})},handleError:e=>{e&&404===e.code&&this.props.dispatch(m.routerRedux.push("/team/".concat(y.default.getCurrTeamName(),"/region/").concat(y.default.getCurrRegionName(),"/apps")))}})}),this.handleTabChange=(e=>{this.setState({tabKey:e,open:!1})}),this.renderContent=(()=>{var e=this.props.match.params.appID,t=this.state,a=t.open,r=t.tabKey,s=t.operationPermissions;return"http"===r?c.default.createElement(u.default,{operationPermissions:s,appID:e,open:a}):c.default.createElement(d.default,{operationPermissions:s,appID:e})}),this.state={appDetail:{},tabKey:e.match&&e.match.params&&e.match.params.types&&e.match.params.types?e.match.params.types:"http",open:!!(this.props.match&&this.props.match.params&&this.props.match.params.types&&this.props.match.params.types)&&this.props.match.params.types,operationPermissions:this.handlePermissions("queryControlInfo")}}componentWillMount(){var e=this.props.dispatch,t=this.state.operationPermissions.isAccess;t||y.default.withoutPermission(e)}componentDidMount(){this.fetchAppDetail()}render(){var e=this.props,t=e.currentTeam,a=e.currentEnterprise,r=e.currentRegionName,s=this.state.appDetail,p=[];return p=(0,g.createApp)((0,g.createTeam)((0,g.createEnterprise)(p,a),t,r),t,r,{appName:s.group_name,appID:s.group_id}),c.default.createElement(l.default,{breadcrumbList:p,title:(0,h.formatMessage)({id:"appGateway.title"}),content:(0,h.formatMessage)({id:"appGateway.desc"}),titleSvg:f.default.getSvg("gatewaySvg",18),tabList:[{key:"http",tab:"HTTP"},{key:"tcp",tab:"TCP/UDP"}],onTabChange:this.handleTabChange},this.renderContent())}},n=i))||n);t.default=P}}]);
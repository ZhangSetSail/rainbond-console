(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{"+Oqp":function(e,t,a){"use strict";var l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("q1tI")),n=a("MT78");class r extends s.Component{constructor(e){super(e),this.loadTeamAppEcharts=(()=>{var e=this.props,t=e.keys,a=e.svalue,l=e.cname,s=e.uvalue,r="#"+t+"clusterInfo",o=n.init(document.querySelector(r)),i={title:[{text:l,x:"center",top:"30%",textStyle:{color:a>80?"#f5222d":"black",fontSize:16,fontWeight:"600"}},{text:s,x:"center",y:"40%",textStyle:{fontSize:20,color:a>80?"#f5222d":"black",fontFamily:"DINAlternate-Bold, DINAlternate",foontWeight:"600"}}],backgroundColor:"#fff",polar:{radius:["42%","52%"],center:["50%","40%"]},angleAxis:{max:100,show:!1},radiusAxis:{type:"category",show:!0,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:[{name:"",type:"bar",roundCap:!0,barWidth:30,showBackground:!0,backgroundStyle:{color:"rgba(66, 66, 66, .3)"},data:[a],coordinateSystem:"polar",itemStyle:{normal:{color:new n.graphic.LinearGradient(0,1,0,0,[{offset:0,color:a>80?"#f5222d":"#22ac38"},{offset:1,color:a>80?"#f5222d":"#22ac38"}])}}}]};o.setOption(i),window.addEventListener("resize",function(){o.resize()})})}componentDidMount(){this.loadTeamAppEcharts()}render(){var e=this.props,t=e.keys,a=e.swidth,l=e.sheight;return s.default.createElement("div",{id:t+"clusterInfo",style:{width:a,height:l}})}}t.default=r},"2tUP":function(e,t,a){e.exports={labelStyle:"labelStyle___3PnBd",tipText_style:"tipText_style___GJs3W",submitStyle:"submitStyle___2jWIM"}},C7fp:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("cWXX");var r=l(a("/ezw"));a("+BJd");var o=l(a("mr32"));a("bP8k");var i=l(a("gFTJ"));a("+L6B");var d=l(a("2/Rp"));a("/xke");var u=l(a("TeRw"));a("Awhp");var c,f,m,p=l(a("KrTs")),h=s(a("q1tI")),g=a("LLXN"),v=a("MuoO"),y=(a("7DNP"),l(a("aJnr"))),E=(c=(0,v.connect)(),c((m=class extends h.Component{constructor(e){super(e),this.getStatus=(e=>{switch(e){case"Ready":return h.default.createElement("span",{style:{color:"#52c41a",marginLeft:20}},h.default.createElement(p.default,{color:"#52c41a"}),e);case"NotReady":return h.default.createElement("span",{style:{color:"red",marginLeft:20}},h.default.createElement(p.default,{color:"red"}),e);case"Ready,SchedulingDisabled":return h.default.createElement("span",{style:{color:"#52c41a",marginLeft:20}},h.default.createElement(p.default,{color:"#52c41a"}),e);default:return h.default.createElement("span",{style:{color:"black",marginLeft:20}},h.default.createElement(p.default,{color:"black"}),h.default.createElement(g.FormattedMessage,{id:"enterpriseColony.table.state.unknown"}))}}),this.handelActive=((e,t)=>{var a=this.props.nodeDetail;"evict"==e?1==a.unschedulable?this.props.active(e,t):u.default.warning({message:(0,g.formatMessage)({id:"enterpriseColony.mgt.cluster.placeseDispatch"})}):this.props.active(e,t)}),this.state={}}render(){var e=this.props,t=e.nodeDetail,a=e.showInfo,l=h.default.createElement(h.default.Fragment,null,h.default.createElement("span",null,t&&t.name),h.default.createElement("span",{style:{marginLeft:10}},this.getStatus(t&&t.status))),s=h.default.createElement(h.default.Fragment,null,0==t.unschedulable?h.default.createElement(d.default,{onClick:()=>{this.handelActive("unschedulable",t.name)},style:{marginRight:20}},(0,g.formatMessage)({id:"enterpriseColony.mgt.cluster.banDispatch"})):h.default.createElement(d.default,{onClick:()=>{this.handelActive("reschedulable",t.name)},style:{marginRight:20}},(0,g.formatMessage)({id:"enterpriseColony.mgt.cluster.dispatch"})),h.default.createElement(d.default,{onClick:()=>{this.handelActive("evict",t.name)}},(0,g.formatMessage)({id:"enterpriseColony.mgt.cluster.evacuation"})));return h.default.createElement(h.default.Fragment,null,h.default.createElement(n.default,{title:a&&l,extra:a&&s,className:y.default.description,style:{boxShadow:"rgba(36, 46, 66, 0.16) 2px 4px 10px 0px"},bodyStyle:{padding:"24px 24px 12px"}},a?h.default.createElement(i.default,null,h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.ip"})},t&&t.ip||"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.container"})},t&&t.container_runtime||"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.framework"})},t&&t.architecture||"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.type"})},t&&t.roles&&t.roles.length>0?t.roles.map((e,t)=>{return h.default.createElement(o.default,{key:t},e)}):"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.operatingVs"})},t&&t.os_version||"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.time"})},t&&t.create_time||"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.operatingType"})},t&&t.os_type||"-"),h.default.createElement(i.default.Item,{label:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.coreVs"})},t&&t.kernel||"-")):h.default.createElement(r.default,{active:!0})))}},f=m))||f),b=E;t.default=b},Lc45:function(e,t,a){e.exports={titleStyle:"titleStyle___DXqBo",EchartsStyle:"EchartsStyle___2id28",bottomStyle:"bottomStyle___efFxQ"}},Pd2W:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("IzEo");var r=l(a("bx4M"));a("cWXX");var o=l(a("/ezw"));a("5Dmo");var i=l(a("3S7+"));a("+L6B");var d=l(a("2/Rp"));a("y8nQ");var u,c,f,m,p=l(a("Vl3Y")),h=s(a("q1tI")),g=a("LLXN"),v=a("MuoO"),y=l(a("48xL")),E=l(a("2tUP")),b=(u=(0,v.connect)(),c=p.default.create(),u(f=c((m=class extends h.Component{constructor(e){super(e),this.handleClick=(()=>{this.setState({visible:!0})}),this.onClose=(()=>{this.setState({visible:!1})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form;t.dispatch;a.validateFields((e,t)=>{var a=t.keyandval,l={};a.map(e=>{l[e.key||""]=e.value||""}),this.props.updataLabel(l),this.setState({visible:!1})})}),this.state={visible:!1}}render(){var e=this.props,t=e.form,a=e.labelList,l=(e.clusterInfo,e.showLable),s=t.getFieldDecorator,u=(t.setFieldsValue,Object.entries(a)),c=[];u.map(e=>{var t={};t.key=e[0],t.value=e[1],c.push(t)});return h.default.createElement(h.default.Fragment,null,h.default.createElement(r.default,{extra:l&&h.default.createElement(d.default,{icon:"form",onClick:this.handleClick},(0,g.formatMessage)({id:"enterpriseColony.mgt.node.editLable"})),style:{boxShadow:"rgba(36, 46, 66, 0.16) 2px 4px 10px 0px"}},l?h.default.createElement("div",{className:E.default.labelStyle},c&&c.length>0&&c.map((e,t)=>{return h.default.createElement(i.default,{key:t,placement:"top",title:h.default.createElement("div",null,h.default.createElement("p",null,"Key: ",e.key),h.default.createElement("p",null,"Value: ",e.value))},h.default.createElement("div",{className:E.default.tipText_style},h.default.createElement("span",null,e.key),h.default.createElement("span",null,e.value)))})):h.default.createElement(o.default,{active:!0})),h.default.createElement(n.default,{title:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.editLable"}),placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible,width:500,bodyStyle:{padding:0}},h.default.createElement(p.default,{onSubmit:this.handleSubmit,style:{padding:20}},h.default.createElement(p.default.Item,null,s("keyandval",{initialValue:c||[],rules:[{required:!1,message:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.key"})}]})(h.default.createElement(y.default,{setspan:10})))),h.default.createElement("div",{className:E.default.submitStyle},h.default.createElement(d.default,{onClick:this.onClose},(0,g.formatMessage)({id:"button.cancel"})),h.default.createElement(d.default,{type:"primary",onClick:this.handleSubmit},(0,g.formatMessage)({id:"button.confirm"})))))}},f=m))||f)||f),C=b;t.default=C},RhmX:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("cWXX");var r=l(a("/ezw"));a("14J3");var o=l(a("BMrR"));a("jCWc");var i,d,u=l(a("kPKH")),c=s(a("q1tI")),f=a("LLXN"),m=a("MuoO"),p=l(a("+Oqp")),h=l(a("Lc45")),g=(i=(0,m.connect)(),i(d=class extends c.Component{constructor(e){super(e),this.state={}}render(){var e=(0,f.formatMessage)({id:"enterpriseColony.mgt.cluster.assigned"}),t=(0,f.formatMessage)({id:"enterpriseColony.mgt.node.used"}),a=this.props,l=a.nodeDetail,s=a.showInfo,i=l.cap_cpu,d=l.req_cpu,m=l.cap_memory,g=l.req_memory,v=l.cap_docker_partition,y=l.req_docker_partition,E=l.cap_root_partition,b=l.req_root_partition,C=0==i?0:(d/i*100).toFixed(2),S=0==m?0:(g/m*100).toFixed(2),_=0==v?0:(y/v*100).toFixed(2),x=0==E?0:(b/E*100).toFixed(2);i&&parseInt(i),m&&parseInt(m),E&&parseInt(E),v&&parseInt(v);return c.default.createElement(c.default.Fragment,null,c.default.createElement(n.default,{style:{boxShadow:"rgba(36, 46, 66, 0.16) 2px 4px 10px 0px",position:"relative"},bodyStyle:{padding:s?"12px 0px 12px":24}},l&&Object.keys(l).length>0&&s?c.default.createElement(c.default.Fragment,null,c.default.createElement(o.default,{className:h.default.titleStyle},c.default.createElement(u.default,{span:6},"CPU"),c.default.createElement(u.default,{span:6},(0,f.formatMessage)({id:"enterpriseColony.mgt.node.memory"})),c.default.createElement(u.default,{span:6},(0,f.formatMessage)({id:"enterpriseColony.mgt.node.root"})),c.default.createElement(u.default,{span:6},(0,f.formatMessage)({id:"enterpriseColony.mgt.node.vessel"}))),c.default.createElement(o.default,{className:h.default.EchartsStyle},c.default.createElement(u.default,{span:6},c.default.createElement(p.default,{keys:"upcpu"+"".concat(1),cname:e,svalue:C,uvalue:"".concat(String(parseInt(C)),"%"),swidth:"250px",sheight:"200px"})),c.default.createElement(u.default,{span:6},c.default.createElement(p.default,{keys:"upcpu"+"".concat(0),cname:e,svalue:S,uvalue:"".concat(String(parseInt(S)),"%"),swidth:"250px",sheight:"200px"})),c.default.createElement(u.default,{span:6},c.default.createElement(p.default,{keys:"upcpu"+"".concat(2),cname:t,svalue:x,uvalue:"".concat(String(parseInt(x)),"%"),swidth:"250px",sheight:"200px"})),c.default.createElement(u.default,{span:6},c.default.createElement(p.default,{keys:"upcpu"+"".concat(3),cname:t,svalue:_,uvalue:"".concat(String(parseInt(_)),"%"),swidth:"250px",sheight:"200px"}))),c.default.createElement(o.default,{className:h.default.bottomStyle},c.default.createElement(u.default,{span:6},c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.allocated"}),c.default.createElement("span",null,d.toFixed(2)),"Core"),c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.assigned"}),c.default.createElement("span",null,i.toFixed(2)),"Core")),c.default.createElement(u.default,{span:6},c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.allocated"}),c.default.createElement("span",null,g.toFixed(2)),"GB"),c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.totalMemory"}),c.default.createElement("span",null,m.toFixed(2)),"GB")),c.default.createElement(u.default,{span:6},c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.use"}),c.default.createElement("span",null,b.toFixed(2)),"GB"),c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.totalRoot"}),c.default.createElement("span",null,E.toFixed(2)),"GB")),c.default.createElement(u.default,{span:6},c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.use"}),c.default.createElement("span",null,y.toFixed(2)),"GB"),c.default.createElement("p",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.totalvessel"}),c.default.createElement("span",null,v.toFixed(2)),"GB")))):c.default.createElement(r.default,{active:!0})))}})||d),v=g;t.default=v},T628:function(e,t,a){"use strict";var l=a("tAuX"),s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=s(a("BMrR"));a("Pwec");var r=s(a("CtXQ"));a("jCWc");var o=s(a("kPKH"));a("5NDa");var i=s(a("5rEg"));a("/xke");var d=s(a("TeRw"));a("OaEy");var u=s(a("2fM7")),c=l(a("q1tI")),f=a("LLXN");u.default.Option;class m extends c.Component{constructor(e){super(e),this.onkeyChange=((e,t)=>{var a=this.state.values;a[t].key=e,this.triggerChange(a),this.setValues(a)}),this.onvalueChange=((e,t)=>{var a=this.state.values;a[t].value=e,this.triggerChange(a),this.setValues(a)}),this.onSelectChange=((e,t)=>{var a=this.state.values;a[t].effect=e,this.triggerChange(a),this.setValues(a)}),this.add=(()=>{var e=this.state.values;if(e.length>100)return d.default.warning({message:(0,f.formatMessage)({id:"notification.warn.add_max"})}),null;this.setState({values:e.concat({key:"",value:"",effect:""})})}),this.remove=(e=>{var t=this.state.values;t.splice(e,1),this.setValues(t),this.triggerChange(t)}),this.state={values:[{key:"",value:"",effect:""}]}}componentDidMount(){this.initFromProps()}componentWillReceiveProps(e){if("value"in e){var t=e.value;this.initFromProps(t)}}setValues(e){var t=e||[];t.length||t.push({key:"",value:"",effect:""}),this.setState({values:t})}initFromProps(e){var t=e||this.props.value;t&&this.setValues(t)}triggerChange(e){for(var t=[],a=0;a<e.length;a++)t.push({key:e[a].key,value:e[a].value,effect:e[a].effect});var l=this.props.onChange;l&&l(t)}render(){var e=this.props,t=e.setspan,a=void 0!==t&&t,l=e.editState,s=e.removeShow,d=this.props.keyPlaceholder||"key",m=this.props.repPlaceholder||"value",p=this.state.values,h={color:"#8d9ba",fontSize:14,fontWeight:600,marginRight:15};return c.default.createElement("div",null,p.map((e,t)=>{var g=0===t;return c.default.createElement(n.default,{key:t},c.default.createElement(o.default,{span:a||4},c.default.createElement("span",{style:h},"Key:"),c.default.createElement(i.default,{style:{width:"80%"},name:"key",onChange:e=>{this.onkeyChange(e.target.value,t)},value:e.key,placeholder:d,disabled:l})),c.default.createElement(o.default,{span:a||4},c.default.createElement("span",{style:h},"Value:"),c.default.createElement(i.default,{style:{width:"80%"},name:"value",onChange:e=>{this.onvalueChange(e.target.value,t)},value:e.value,placeholder:m,disabled:l})),c.default.createElement(o.default,{span:7},c.default.createElement("span",{style:h},(0,f.formatMessage)({id:"enterpriseColony.mgt.node.Policy"})),c.default.createElement(u.default,{name:"select",allowClear:!0,value:e.effect,onChange:e=>{this.onSelectChange(e,t)},style:{width:"80%"},disabled:l},c.default.createElement(u.default.Option,{value:"NoExecute"},"NoExecute"),c.default.createElement(u.default.Option,{value:"PreferNoSchedule"},"PreferNoSchedule"),c.default.createElement(u.default.Option,{value:"NoSchedule"},"NoSchedule"))),!l&&c.default.createElement(o.default,{span:1},c.default.createElement(r.default,{type:g?"plus-circle":"minus-circle",style:{fontSize:"20px"},onClick:()=>{g?this.add():this.remove(t)}}),s&&g&&1==p.length&&c.default.createElement(r.default,{type:"minus-circle",style:{fontSize:"20px"},onClick:()=>{this.props.removeValue()}})))}))}}var p=m;t.default=p},aJnr:function(e,t,a){e.exports={description:"description___3ebQv"}},hffI:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("/xke");var r,o,i,d=l(a("TeRw")),u=l(a("p0pE")),c=s(a("q1tI")),f=a("LLXN"),m=a("MuoO"),p=a("7DNP"),h=l(a("C7fp")),g=l(a("RhmX")),v=l(a("pvdQ")),y=l(a("Pd2W")),E=l(a("2lxJ")),b=l(a("QDog")),C=l(a("sHQ1")),S=(r=(0,m.connect)(),r((i=class extends c.Component{constructor(e){var t;super(e),t=this,this.loadClusters=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=t.props,a=e.dispatch,l=e.match.params,s=l.eid,n=l.regionID;a({type:"region/fetchEnterpriseClusters",payload:{enterprise_id:s},callback:e=>{if(e&&e.list){var a=[];e.list.map((e,t)=>{return e.key="cluster".concat(t),a.push(e),e});a.filter(e=>{e.region_id==n&&t.setState({clusterInfo:e},()=>{t.fetClusterNodeDetail(e),t.fetClusterNodeLabels(e),t.fetClusterNodeTaint(e)})})}else t.setState({rowCluster:[],showInfo:!1})}})},this.fetClusterNodeDetail=(e=>{var t=this.props,a=t.dispatch,l=t.match.params,s=l.eid,n=(l.regionID,this.props.location&&this.props.location.query&&this.props.location.query.name);a({type:"region/fetClusterNodeDetail",payload:{enterprise_id:s,region_name:e.region_name,node_id:n},callback:t=>{t&&200==t.status_code&&this.setState({nodeDetail:t.bean},()=>{a({type:"region/fetClusterNodeContainer",payload:{enterprise_id:s,region_name:e.region_name,node_name:n,container_runtime:t.bean.container_runtime},callback:e=>{var t=e.bean,a={};a.cap_docker_partition=t.total,a.req_docker_partition=t.used,this.setState({nodeDetail:(0,u.default)({},this.state.nodeDetail,a),showInfo:!0})},handleError:e=>{var t={cap_docker_partition:0,req_docker_partition:0};this.setState({nodeDetail:(0,u.default)({},this.state.nodeDetail,t),showInfo:!0})}})})},handleError:e=>{this.setState({nodeDetail:{},showInfo:!1},()=>{d.default.error({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.infoError"})})})}})}),this.fetClusterNodeLabels=(e=>{var t=this.props,a=t.dispatch,l=t.match.params,s=l.eid;l.regionID;this.setState({showLable:!1});var n=this.props.location&&this.props.location.query&&this.props.location.query.name;a({type:"region/fetClusterNodeLabels",payload:{enterprise_id:s,region_name:e.region_name,node_name:n},callback:e=>{e&&200==e.status_code&&this.setState({labelList:e.bean,showLable:!0})},handleError:()=>{this.setState({labelList:{},showLable:!1},()=>{d.default.error({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.listError"})})})}})}),this.updataClusterNodeLabels=(e=>{var t=this.props,a=t.dispatch,l=t.match.params,s=l.eid,n=(l.regionID,this.state.clusterInfo);this.setState({showLable:!1});var r=this.props.location&&this.props.location.query&&this.props.location.query.name;a({type:"region/updataClusterNodeLabels",payload:{enterprise_id:s,region_name:n.region_name,node_name:r,labels:e},callback:e=>{e&&200==e.status_code&&this.setState({labelList:e.bean,showLable:!0},()=>{d.default.success({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.editSuccess"})})})},handleError:()=>{d.default.error({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.editDefeated"})}),this.fetClusterNodeLabels(n)}})}),this.fetClusterNodeTaint=(e=>{var t=this.props,a=t.dispatch,l=t.match.params,s=l.eid,n=(l.regionID,this.state.clusterInfo);this.setState({showTaints:!1,taintsList:[]});var r=this.props.location&&this.props.location.query&&this.props.location.query.name;a({type:"region/fetClusterNodeTaint",payload:{enterprise_id:s,region_name:n.region_name,node_name:r},callback:e=>{e&&200==e.status_code&&this.setState({taintsList:e.bean,showTaints:!0})},handleError:()=>{this.setState({taintsList:{},showTaints:!1},()=>{d.default.error({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.stainList"})})})}})}),this.updataClusterNodeTaint=(e=>{var t=this.props,a=t.dispatch,l=t.match.params,s=l.eid,n=(l.regionID,this.state.clusterInfo);this.setState({showTaints:!1});var r=this.props.location&&this.props.location.query&&this.props.location.query.name;a({type:"region/updataClusterNodeTaint",payload:{enterprise_id:s,region_name:n.region_name,node_name:r,taints:e.taints},callback:e=>{e&&200==e.status_code&&this.setState({taintsList:e.list,showTaints:!0},()=>{d.default.success({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.editSuccess"})})})},handleError:()=>{d.default.error({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.editDefeated"})}),this.fetClusterNodeTaint(n)}})}),this.removeTaintsList=(()=>{this.setState({taintsList:[]})}),this.editClusterNodeActive=((e,t)=>{var a=this.props,l=a.dispatch,s=a.match.params,n=s.eid,r=(s.regionID,this.state.clusterInfo);this.setState({showInfo:!1}),l({type:"region/editClusterNodeActive",payload:{enterprise_id:n,region_name:r.region_name,action:e,node_id:t},callback:e=>{e&&200==e.status_code&&(d.default.success({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.editSuccess"})}),this.fetClusterNodeDetail(r),this.fetClusterNodeTaint(r),this.fetClusterNodeLabels(r))},handleError:()=>{d.default.error({message:(0,f.formatMessage)({id:"enterpriseColony.mgt.node.editDefeated"})}),this.fetClusterNodeDetail(r),this.fetClusterNodeTaint(r),this.fetClusterNodeLabels(r)}})}),this.state={clusterInfo:[],nodeDetail:{},showInfo:!1,labelList:{},showLable:!1,showTaints:!1,taintsList:[]}}componentDidMount(){this.loadClusters()}render(){var e=this.state,t=e.clusterInfo,a=e.nodeDetail,l=e.showInfo,s=e.labelList,r=e.showLable,o=e.showTaints,i=e.taintsList,d=b.default.getCurrEnterpriseId();return c.default.createElement(c.default.Fragment,null,c.default.createElement(n.default,{className:C.default.breadStyle},c.default.createElement("span",null,E.default.getSvg("ClusterSvg",18)),c.default.createElement("span",null,c.default.createElement(p.Link,{to:"/enterprise/".concat(d,"/clusters")},(0,f.formatMessage)({id:"enterpriseColony.mgt.cluster.clusterMgt"})," / ")),c.default.createElement("span",null,c.default.createElement(p.Link,{to:"/enterprise/".concat(d,"/clusters/clustersmgt/").concat(t.region_id)},t.region_alias," / ")),c.default.createElement("span",null,a&&a.name)),c.default.createElement(n.default,{className:C.default.titleStyle},c.default.createElement("span",null,E.default.getSvg("infoSvg",20)),c.default.createElement("span",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.nodeDetails"}))),c.default.createElement(n.default,null,c.default.createElement(h.default,{nodeDetail:a,showInfo:l,active:this.editClusterNodeActive})),c.default.createElement(n.default,{className:C.default.titleStyle},c.default.createElement("span",null,E.default.getSvg("userSvg",20)),c.default.createElement("span",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.cluster.user"}))),c.default.createElement(n.default,null,c.default.createElement(g.default,{nodeDetail:a,showInfo:l})),c.default.createElement(n.default,{className:C.default.titleStyle},c.default.createElement("span",null,E.default.getSvg("labelSvg",20)),c.default.createElement("span",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.lable"}))),c.default.createElement(n.default,null,c.default.createElement(y.default,{clusterInfo:t,labelList:s,showLable:r,updataLabel:this.updataClusterNodeLabels})),c.default.createElement(n.default,{className:C.default.titleStyle},c.default.createElement("span",null,E.default.getSvg("stainSvg",20)),c.default.createElement("span",null,(0,f.formatMessage)({id:"enterpriseColony.mgt.node.stain"}))),c.default.createElement(n.default,null,c.default.createElement(v.default,{clusterInfo:t,taintsList:i,showTaints:o,fetTaints:this.fetClusterNodeTaint,updataTaints:this.updataClusterNodeTaint,remove:this.removeTaintsList})))}},o=i))||o),_=S;t.default=_},nmTF:function(e,t,a){},pvdQ:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("cWXX");var r=l(a("/ezw"));a("R9oj");var o=l(a("ECub"));a("+L6B");var i=l(a("2/Rp"));a("/xke");var d=l(a("TeRw"));a("y8nQ");var u,c,f,m,p=l(a("Vl3Y")),h=s(a("q1tI")),g=a("LLXN"),v=a("MuoO"),y=l(a("T628")),E=(l(a("nmTF")),u=(0,v.connect)(),c=p.default.create(),u(f=c((m=class extends h.Component{constructor(e){super(e),this.editStain=(()=>{this.setState({editState:!1,showSubmit:!0})}),this.cancelStain=(()=>{var e=this.props,t=(e.form,e.taintsList,e.clusterInfo),a=e.fetTaints;this.setState({editState:!0,showSubmit:!1},()=>{a(t)})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=(t.dispatch,t.updataTaints),s=!0;a.validateFields((e,t)=>{if(1==t.taints.length&&""==t.taints[0].key&&""==t.taints[0].value&&""==t.taints[0].effect)t.taints=[],l(t);else if(1==t.taints.length&&(""==t.taints[0].key||""==t.taints[0].value||""==t.taints[0].effect))return s=!1,d.default.warning({message:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.full"})});t.taints.length>1&&t.taints.map(e=>{if(""==e.key||""==e.vlaue||""==e.effect)return s=!1,d.default.warning({message:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.full"})})}),s&&l(t),this.setState({editState:!0,showSubmit:!1})})}),this.removeValue=(()=>{var e=this.props.remove;e()}),this.state={editState:!0,showSubmit:!1,value:!1}}render(){var e=this.state,t=e.editState,a=e.showSubmit,l=this.props,s=l.form,d=l.taintsList,u=l.showTaints,c=s.getFieldDecorator,f=(s.setFieldsValue,h.default.createElement(h.default.Fragment,null,a&&h.default.createElement(i.default,{type:"primary",icon:"diff",onClick:this.handleSubmit,style:{marginRight:15}},(0,g.formatMessage)({id:"enterpriseColony.mgt.node.submit"})),t?h.default.createElement(i.default,{icon:"form",onClick:this.editStain},(0,g.formatMessage)({id:"enterpriseColony.mgt.node.editStain"})):h.default.createElement(i.default,{icon:"close-circle",onClick:this.cancelStain},(0,g.formatMessage)({id:"enterpriseColony.mgt.node.editCancel"})))),m=!(!d||1!=d.length);return h.default.createElement(h.default.Fragment,null,h.default.createElement(n.default,{extra:u&&f,style:{boxShadow:"rgba(36, 46, 66, 0.16) 2px 4px 10px 0px",marginBottom:30}},u?h.default.createElement(p.default,{onSubmit:this.handleSubmit},d.length>0||!t?h.default.createElement(p.default.Item,null,c("taints",{initialValue:d.length>0?d:[],rules:[{required:!1,message:(0,g.formatMessage)({id:"enterpriseColony.mgt.node.key"})}]})(h.default.createElement(y.default,{editState:t,removeShow:m,setspan:8,removeValue:this.removeValue}))):h.default.createElement(o.default,null)):h.default.createElement(r.default,{active:!0})))}},f=m))||f)||f),b=E;t.default=b},sHQ1:function(e,t,a){e.exports={titleStyle:"titleStyle___2rVS7",breadStyle:"breadStyle___TADUi"}}}]);
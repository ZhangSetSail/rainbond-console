(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"2OfQ":function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var d=r(a("CtXQ"));a("5NDa");var o=r(a("5rEg")),n=r(a("jehZ"));a("+L6B");var s=r(a("2/Rp"));a("/xke");var u=r(a("TeRw")),i=r(a("p0pE"));a("y8nQ");var c=r(a("Vl3Y"));a("OaEy");var m=r(a("2fM7"));a("DZo9");var p,f,h,g,v=r(a("8z0m")),_=a("MuoO"),b=a("7DNP"),y=l(a("q1tI")),E=a("LLXN"),A=(r(a("XZXw")),r(a("qCJ4"))),C=r(a("hMqj")),M=r(a("QDog")),N=r(a("8+Sn")),k=r(a("P6yt")),S=(a("xpXo"),v.default.Dragger,m.default.Option),D=(p=c.default.create(),f=(0,_.connect)(e=>{var t=e.teamControl,a=e.global,r=e.enterprise;return{groups:a.groups,rainbondInfo:a.rainbondInfo,currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:r.currentEnterprise,enterprise:a.enterprise,currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}},null,null,{pure:!1}),p(h=f((g=class extends y.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,r=t.dispatch,l=M.default.getCurrTeamName(),d=M.default.getCurrRegionName(),o=this.state,n=o.event_id,s=o.existFileList;o.groupName;a.validateFields((e,t)=>{e||(s.length>0?r({type:"createApp/createJarWarFormSubmit",payload:(0,i.default)({region_name:d,team_name:l,event_id:n},t),callback:e=>{var t=e&&e.bean.service_alias;r(b.routerRedux.push("/team/".concat(l,"/region/").concat(d,"/create/create-check/").concat(t,"?event_id=").concat(n)))}}):(this.loop=!0,this.handleJarWarUploadStatus(),u.default.error({message:(0,E.formatMessage)({id:"notification.error.notDetected"})})))})}),this.handleChange=(e=>{for(var t=this.props,a=(t.dispatch,t.groups),r=0;r<a.length;r++)if(a[r].group_id===e){this.setState({groupName:a[r].group_name});break}}),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;t({group_id:e}),this.cancelAddGroup()}),this.handleJarWarUpload=(()=>{var e=this.props.dispatch,t=M.default.getCurrTeamName(),a=M.default.getCurrRegionName();e({type:"createApp/createJarWarServices",payload:{region:a,team_name:t,component_id:""},callback:e=>{e&&200===e.status_code&&this.setState({record:e.bean,event_id:e.bean.event_id,region_name:e.bean&&e.bean.region,team_name:e.bean&&e.bean.team_name},()=>{""!==e.bean.region&&(this.loop=!0,this.handleJarWarUploadStatus())})}})}),this.handleJarWarUploadRecord=(e=>{var t=this.props.dispatch;t({type:"createApp/createJarWarUploadRecord",payload:{region:M.default.getCurrRegionName(),team_name:M.default.getCurrTeamName(),file_type:e,component_id:""},callback:e=>{e.bean&&e.bean.source_dir&&e.bean.source_dir.length>0?this.setState({existFileList:e.bean.source_dir,event_id:e.bean.event_id}):(this.setState({existFileList:[]}),this.handleJarWarUpload())},handleError:()=>{}})}),this.handleJarWarUploadStatus=(()=>{var e=this.props.dispatch,t=this.state.event_id;e({type:"createApp/createJarWarUploadStatus",payload:{region:M.default.getCurrRegionName(),team_name:M.default.getCurrTeamName(),event_id:t},callback:e=>{e&&e.bean.package_name.length>0&&this.setState({existFileList:e.bean.package_name}),this.loop&&setTimeout(()=>{this.handleJarWarUploadStatus()},3e3)},handleError:()=>{}})}),this.handleJarWarUploadDelete=(()=>{var e=this.state.event_id,t=this.props.dispatch;t({type:"createApp/deleteJarWarUploadStatus",payload:{team_name:M.default.getCurrTeamName(),event_id:e},callback:e=>{"ok"==e.bean.res&&(this.setState({existFileList:[]}),u.default.success({message:(0,E.formatMessage)({id:"notification.success.delete_file"})}),this.handleJarWarUpload())}})}),this.onChangeUpload=(e=>{var t=e.fileList;t=t.filter(e=>{return!e.response||"success"===e.response.msg}),e&&e.event&&e.event.percent&&this.setState({percents:e.event.percent});var a=e.file.status;"done"===a&&this.setState({percents:!1}),this.setState({fileList:t})}),this.onRemove=(()=>{this.setState({fileList:[]})}),this.state={fileList:[],defaultRadio:"jwar",addGroup:!1,record:{},event_id:"",region_name:"",team_name:"",percents:!1,existFileList:[],groupName:"",language:"zh-CN"===N.default.get("language")}}componentWillMount(){this.loop=!1,this.statusloop=!1;var e=this.props,t=e.currentTeamPermissionsInfo,a=e.dispatch;C.default.canCreateComponent(t,a)}componentDidMount(){this.handleJarWarUploadRecord("jwar")}componentWillUnmount(){this.loop=!1,this.statusloop=!1}render(){var e=this.props,t=e.form.getFieldDecorator,a=e.groups,r={},l=this.state,u=l.fileList,i=(l.defaultRadio,l.addGroup),p=l.record,f=(l.region_name,l.existFileList),h=l.language,g={labelCol:{span:5},wrapperCol:{span:15}},_={labelCol:{span:9},wrapperCol:{span:15}},b=h?g:_;return y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:k.default.yaml_container},y.default.createElement(c.default,{onSubmit:this.handleSubmit},y.default.createElement(c.default.Item,(0,n.default)({},b,{label:(0,E.formatMessage)({id:"teamAdd.create.form.appName"}),style:{display:"flex"}}),t("group_id",{rules:[{required:!0,message:(0,E.formatMessage)({id:"placeholder.group_name"})}]})(y.default.createElement(m.default,{onChange:this.handleChange,getPopupContainer:e=>e.parentNode,placeholder:(0,E.formatMessage)({id:"placeholder.appName"}),style:{display:"inline-block",width:h?276:289,marginRight:10}},(a||[]).map(e=>y.default.createElement(S,{value:e.group_id},e.group_name)))),y.default.createElement(s.default,{onClick:this.onAddGroup},(0,E.formatMessage)({id:"teamApply.createApp"}))),y.default.createElement(c.default.Item,(0,n.default)({},b,{label:(0,E.formatMessage)({id:"teamAdd.create.form.service_cname"})}),t("service_cname",{rules:[{required:!0,message:(0,E.formatMessage)({id:"placeholder.component_cname"})}]})(y.default.createElement(o.default,{placeholder:(0,E.formatMessage)({id:"placeholder.component_cname"})}))),y.default.createElement(c.default.Item,(0,n.default)({},b,{label:(0,E.formatMessage)({id:"teamAdd.create.form.k8s_component_name"})}),t("k8s_component_name",{rules:[{required:!0,message:(0,E.formatMessage)({id:"placeholder.k8s_component_name"})}]})(y.default.createElement(o.default,{placeholder:(0,E.formatMessage)({id:"placeholder.k8s_component_name"})}))),y.default.createElement(c.default.Item,(0,n.default)({},b,{label:(0,E.formatMessage)({id:"teamAdd.create.upload.uploadFiles"}),extra:(0,E.formatMessage)({id:"teamAdd.create.upload.uploadJWar"})}),t("packageTarFile",{rules:[]})(y.default.createElement(v.default,{fileList:u,name:"packageTarFile",onChange:this.onChangeUpload,onRemove:this.onRemove,action:p.upload_url,headers:r,multiple:!0},y.default.createElement(s.default,null,y.default.createElement(d.default,{type:"upload"}),(0,E.formatMessage)({id:"teamAdd.create.upload.uploadFiles"}))))),y.default.createElement(c.default.Item,{labelCol:h?{span:5}:{span:9},wrapperCol:h?{span:19}:{span:15},label:(0,E.formatMessage)({id:"teamAdd.create.fileList"})},y.default.createElement("div",{style:{display:"flex"}},y.default.createElement("div",null,f.length>0?f.map(e=>{return y.default.createElement("div",{className:k.default.file},y.default.createElement(d.default,{style:{marginRight:"6px"},type:"inbox"}),y.default.createElement("span",{className:k.default.fileName},e))}):y.default.createElement("div",{className:k.default.empty},(0,E.formatMessage)({id:"teamAdd.create.null_data"}))),f.length>0&&y.default.createElement("div",{style:{display:"flex",alignItems:"center",background:"#ff7b7b",padding:"0px 12px",justifyContent:"center"}},y.default.createElement(d.default,{onClick:this.handleJarWarUploadDelete,style:{color:"#fff",cursor:"pointer"},type:"delete"})))),y.default.createElement(c.default.Item,{wrapperCol:{xs:{span:7,offset:7},sm:{span:9,offset:9}}},y.default.createElement(s.default,{type:"primary",htmlType:"submit"},(0,E.formatMessage)({id:"teamAdd.create.btn.create"}))))),i&&y.default.createElement(A.default,{onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}))}},h=g))||h)||h);t.default=D},Aay4:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var d=r(a("5rEg")),o=r(a("jehZ"));a("+L6B");var n=r(a("2/Rp"));a("+BJd");var s=r(a("mr32"));a("2qtc");var u=r(a("kLXV"));a("y8nQ");var i=r(a("Vl3Y"));a("OaEy");var c,m,p,f,h=r(a("2fM7")),g=a("MuoO"),v=l(a("q1tI")),_=a("LLXN"),b=r(a("qCJ4")),y=r(a("npAr")),E=r(a("QDog")),A=r(a("mWxT")),C=r(a("8+Sn")),M=h.default.Option,N={labelCol:{span:5},wrapperCol:{span:15}},k={labelCol:{span:9},wrapperCol:{span:15}},S=(c=(0,g.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,createAppByCodeLoading:a.effects["createApp/createAppByCode"],rainbondInfo:t.rainbondInfo}},null,null,{withRef:!0}),m=i.default.create(),c(p=m((f=class extends v.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,r=t.onSubmit;a.validateFields((e,t)=>{!e&&r&&r(t)})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;t({group_id:e}),this.cancelAddGroup()}),this.fetchGroup=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:E.default.getCurrTeamName()}})}),this.handleOpenDemo=(()=>{u.default.warning({title:(0,_.formatMessage)({id:"teamAdd.create.code.demoBtn"}),content:v.default.createElement("div",null,v.default.createElement(s.default,{color:"magenta",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#EA2E96"},href:"".concat(y.default.documentAddress,"demo-2048.git")},(0,_.formatMessage)({id:"teamAdd.create.code.demoBtn"}))),v.default.createElement(s.default,{color:"green",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#74CC49"},href:"".concat(y.default.documentAddress,"static-demo.git")},(0,_.formatMessage)({id:"teamAdd.create.code.demoBtn"}))),v.default.createElement(s.default,{color:"volcano",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#FA541B"},href:"".concat(y.default.documentAddress,"php-demo.git")},"PHP Demo")),v.default.createElement(s.default,{color:"blue",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#1990FF"},href:"".concat(y.default.documentAddress,"python-demo.git")},"Python Demo")),v.default.createElement(s.default,{color:"orange",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#FA8E14"},href:"".concat(y.default.documentAddress,"nodejs-demo.git")},"Node.js Demo")),v.default.createElement(s.default,{color:"gold",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#FCAD15"},href:"".concat(y.default.documentAddress,"go-demo.git")},"Golang Demo")),v.default.createElement(s.default,{color:"lime",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#A0D912"},href:"".concat(y.default.documentAddress,"java-maven-demo.git")},"Java-Maven Demo")),v.default.createElement(s.default,{color:"geekblue",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#3054EB"},href:"".concat(y.default.documentAddress,"java-jar-demo.git")},"Java-Jar Demo")),v.default.createElement(s.default,{color:"purple",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#722DD1"},href:"".concat(y.default.documentAddress,"java-war-demo.git")},"Java-War Demo")),v.default.createElement(s.default,{color:"volcano",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#FA541B"},href:"".concat(y.default.documentAddress,"java-gradle-demo.git")},"Java-Gradle Demo")),v.default.createElement(s.default,{color:"gold",style:{marginBottom:"10px"}},v.default.createElement("a",{target:"_blank",style:{color:"#FCAD15"},href:"".concat(y.default.documentAddress,"dotnet-demo.git")},".NetCore Demo")))})}),this.handleChangeDemo=(e=>{this.setState({demoHref:e})}),this.handleValiateNameSpace=((e,t,a)=>{if(!t)return a(new Error((0,_.formatMessage)({id:"placeholder.k8s_component_name"})));if(t&&t.length<=32){var r=/^[a-z]([-a-z0-9]*[a-z0-9])?$/;if(!r.test(t))return a(new Error((0,_.formatMessage)({id:"placeholder.nameSpaceReg"})));a()}return t.length>32?a(new Error((0,_.formatMessage)({id:"placeholder.max32"}))):void 0}),this.state={language:"zh-CN"===C.default.get("language"),addGroup:!1,demoHref:this.props.data.git_url||y.default.documentAddressDefault}}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.groups,r=t.createAppByCodeLoading,l=t.rainbondInfo,s=this.props.data||{},u=this.state.language,c=u?N:k;return v.default.createElement(i.default,{layout:"horizontal",hideRequiredMark:!0},v.default.createElement(i.default.Item,(0,o.default)({},c,{label:(0,_.formatMessage)({id:"teamAdd.create.form.appName"})}),e("group_id",{initialValue:s.groupd_id?s.groupd_id:void 0,rules:[{required:!0,message:(0,_.formatMessage)({id:"placeholder.select"})}]})(v.default.createElement(h.default,{getPopupContainer:e=>e.parentNode,placeholder:(0,_.formatMessage)({id:"placeholder.appName"}),style:{display:"inline-block",width:u?275:289,marginRight:10}},(a||[]).map(e=>v.default.createElement(M,{key:e.group_id,value:e.group_id},e.group_name)))),v.default.createElement(n.default,{onClick:this.onAddGroup},(0,_.formatMessage)({id:"teamApply.createApp"}))),v.default.createElement(i.default.Item,(0,o.default)({},c,{label:(0,_.formatMessage)({id:"teamAdd.create.form.service_cname"})}),e("service_cname",{initialValue:s.service_cname||"",rules:[{required:!0,message:(0,_.formatMessage)({id:"placeholder.service_cname"})},{max:24,message:(0,_.formatMessage)({id:"placeholder.max24"})}]})(v.default.createElement(d.default,{placeholder:(0,_.formatMessage)({id:"placeholder.service_cname"})}))),v.default.createElement(i.default.Item,(0,o.default)({},c,{label:(0,_.formatMessage)({id:"teamAdd.create.form.k8s_component_name"})}),e("k8s_component_name",{rules:[{required:!0,validator:this.handleValiateNameSpace}]})(v.default.createElement(d.default,{placeholder:(0,_.formatMessage)({id:"placeholder.k8s_component_name"})}))),v.default.createElement(i.default.Item,(0,o.default)({},c,{label:v.default.createElement("span",null,"Demo")}),e("git_url",{initialValue:s.git_url||y.default.documentAddressDefault,rules:[{required:!0,message:(0,_.formatMessage)({id:"placeholder.select"})}]})(v.default.createElement(h.default,{getPopupContainer:e=>e.parentNode,style:{display:"inline-block",width:290,marginRight:10},onChange:this.handleChangeDemo},v.default.createElement(M,{value:"".concat(y.default.documentAddress,"demo-2048.git")},(0,_.formatMessage)({id:"teamAdd.create.code.demo2048"})),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"static-demo.git")},(0,_.formatMessage)({id:"teamAdd.create.code.demoStatic"})),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"php-demo.git")},"PHP Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"python-demo.git")},"Python Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"nodejs-demo.git")},"Node.js Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"go-demo.git")},"Golang Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"java-maven-demo.git")},"Java-Maven Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"java-jar-demo.git")},"Java-Jar Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"java-war-demo.git")},"Java-war Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"java-gradle-demo.git")},"Java-gradle Demo"),v.default.createElement(M,{value:"".concat(y.default.documentAddress,"dotnet-demo.git")},".NetCore Demo"))),this.state.demoHref&&A.default.documentPlatform_url(l)&&v.default.createElement("a",{target:"_blank",href:this.state.demoHref},(0,_.formatMessage)({id:"teamAdd.create.code.href"}))),v.default.createElement(i.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:c.wrapperCol.span,offset:c.labelCol.span}},label:""},v.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",loading:r},(0,_.formatMessage)({id:"teamAdd.create.btn.create"}))),this.state.addGroup&&v.default.createElement(b.default,{onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}))}},p=f))||p)||p);t.default=S},CgHS:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,o,n,s=r(a("jehZ")),u=a("MuoO"),i=a("7DNP"),c=l(a("q1tI")),m=a("LLXN"),p=r(a("I3bc")),f=r(a("XZXw")),h=a("vSx2"),g=r(a("QDog")),v=r(a("tH/r")),_=r(a("mWxT")),b=r(a("hMqj")),y=r(a("9Y44")),E=r(a("KLZ5")),A=r(a("Tj2Q")),C=r(a("2lxJ")),M=(d=(0,u.connect)(e=>{var t=e.teamControl,a=e.global,r=e.enterprise;return{rainbondInfo:a.rainbondInfo,currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:r.currentEnterprise,enterprises:a.enterprise,currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}},null,null,{pure:!1}),d((n=class extends c.PureComponent{constructor(e){super(e),this.handleTabChange=(e=>{var t=this.props.dispatch;t(i.routerRedux.push("/team/".concat(g.default.getCurrTeamName(),"/region/").concat(g.default.getCurrRegionName(),"/create/code/").concat(e)))}),this.fetchEnterpriseInfo=(e=>{if(!e)return null;var t=this.props.dispatch;t({type:"global/fetchEnterpriseInfo",payload:{enterprise_id:e},callback:e=>{e&&e.bean&&this.setState({serversList:e.bean})}})}),this.state={serversList:null}}componentWillMount(){var e=this.props,t=e.currentTeamPermissionsInfo,a=e.dispatch;b.default.canCreateComponent(t,a)}componentDidMount(){var e=this.props.currentEnterprise&&this.props.currentEnterprise.enterprise_id;this.fetchEnterpriseInfo(e)}render(){var e=this.props,t=e.rainbondInfo,a=(e.enterprises,e.match),r=e.currentEnterprise,l=e.currentTeam,d=e.currentRegionName,o=this.state.serversList,n={custom:y.default,demo:E.default,jwar:A.default},u=[{key:"custom",tab:(0,m.formatMessage)({id:"teamAdd.create.code.customSource"})},{key:"jwar",tab:(0,m.formatMessage)({id:"teamAdd.create.code.package"})}];_.default.officialDemoEnable(t)&&u.push({key:"demo",tab:(0,m.formatMessage)({id:"teamAdd.create.code.demo"})});var i=v.default.getEnableGitOauthServer(o);i&&i.length>0&&i.map(e=>{var t=e.name,a=e.service_id,r=e.oauth_type,l={github:"Github",gitlab:"Gitlab",gitee:"Gitee"},d=l[r]||"",o=d?"".concat(d," ").concat(t&&"(".concat(t,")")):"".concat(t,"\u9879\u76ee");return n[a]=p.default,u.push({key:a,types:r,tab:o}),u});var g=a.params.type;g||(g="custom");var b=n[g],M=[];return M=(0,h.createTeam)((0,h.createEnterprise)(M,r),l,d),M.push({title:"\u521b\u5efa\u7ec4\u4ef6"}),c.default.createElement(f.default,{breadcrumbList:M,title:(0,m.formatMessage)({id:"teamAdd.create.code.title"}),onTabChange:this.handleTabChange,content:c.default.createElement("p",null,c.default.createElement(m.FormattedMessage,{id:"teamAdd.create.code.desc"})),tabActiveKey:g,tabList:u,titleSvg:C.default.getSvg("addSvg",18)},b?c.default.createElement(b,(0,s.default)({},this.props,{type:this.props.match.params.type,tabList:u})):c.default.createElement(c.default.Fragment,null,(0,m.formatMessage)({id:"teamAdd.create.error"})))}},o=n))||o);t.default=M},KLZ5:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var d=r(a("bx4M")),o=r(a("p0pE"));a("y8nQ");var n,s,u,i,c=r(a("Vl3Y")),m=a("MuoO"),p=a("7DNP"),f=l(a("q1tI")),h=r(a("Aay4")),g=r(a("/BFj")),v=r(a("QDog")),_=r(a("51sS")),b=(n=(0,m.connect)(e=>{var t=e.user,a=e.global;return{currUser:t.currentUser,groups:a.groups}}),s=c.default.create(),n(u=s((i=class extends f.PureComponent{constructor(e){super(e),this.fetchGroup=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:v.default.getCurrTeamName()}})}),this.handleSubmit=(e=>{var t=v.default.getCurrTeamName();this.props.dispatch({type:"createApp/createAppByCode",payload:(0,o.default)({team_name:t,code_from:"gitlab_demo"},e),callback:e=>{var t=e&&e.bean.service_alias;this.props.dispatch(p.routerRedux.push("/team/".concat(v.default.getCurrTeamName(),"/region/").concat(v.default.getCurrRegionName(),"/create/create-check/").concat(t)))}})}),this.state={}}render(){var e=decodeURIComponent(this.props.match.params.code||"");return f.default.createElement(d.default,null,f.default.createElement(g.default,null),f.default.createElement("div",{className:_.default.formWrap,style:{width:this.props.handleType&&"Service"===this.props.handleType?"auto":"600px"}},f.default.createElement(h.default,{data:{git_url:e||""},onSubmit:this.handleSubmit})))}},u=i))||u)||u);t.default=b},P6yt:function(e,t,a){e.exports={yaml_container:"yaml_container___HPIP1",file:"file___1wZgJ",fileName:"fileName___1-mW2",empty:"empty___3u_Wg"}},Tj2Q:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var d,o,n,s=r(a("bx4M")),u=r(a("jehZ")),i=r(a("p0pE")),c=a("MuoO"),m=a("7DNP"),p=l(a("q1tI")),f=(a("LLXN"),r(a("2OfQ"))),h=r(a("/BFj")),g=r(a("QDog")),v=r(a("51sS")),_=(d=(0,c.connect)(e=>{var t=e.user,a=e.global;return{currUser:t.currentUser,groups:a.groups}}),d((n=class extends p.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;this.props.dispatch({type:"application/addGroup",payload:(0,i.default)({team_name:g.default.getCurrTeamName()},e),callback:e=>{e&&this.props.dispatch({type:"global/fetchGroups",payload:{team_name:g.default.getCurrTeamName(),region_name:g.default.getCurrRegionName()},callback:()=>{t({group_id:e.group_id}),this.cancelAddGroup()}})}})}),this.hideShowKey=(()=>{this.setState({showKey:!1})}),this.handleSubmit=(e=>{var t=g.default.getCurrTeamName(),a=e.username_1,r=e.password_1;delete e.username_1,delete e.password_1,this.props.dispatch({type:"createApp/createAppByCode",payload:(0,i.default)({team_name:t,code_from:"gitlab_manual"},e,{username:a,password:r}),callback:e=>{if(e){var t=e.bean.service_alias;this.props.handleType&&"Service"===this.props.handleType?this.props.handleServiceGetData(t):this.props.dispatch(m.routerRedux.push("/team/".concat(g.default.getCurrTeamName(),"/region/").concat(g.default.getCurrRegionName(),"/create/create-check/").concat(t)))}}})}),this.state={}}render(){return p.default.createElement(s.default,null,p.default.createElement(h.default,null),p.default.createElement("div",{className:v.default.formWrap,style:{width:this.props.handleType&&"Service"===this.props.handleType?"auto":"600px"}},p.default.createElement(f.default,(0,u.default)({onSubmit:this.handleSubmit},this.props))))}},o=n))||o);t.default=_}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{"+XgA":function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV")),r=l(a("jehZ"));a("5NDa");var n=l(a("5rEg"));a("y8nQ");var o,d,c,u,f=l(a("Vl3Y")),m=l(a("PCLb")),p=a("MuoO"),g=s(a("q1tI")),h=a("LLXN"),b=l(a("8+Sn")),v=l(a("e6Ls")),E=f.default.Item,M=(o=f.default.create(),d=(0,p.connect)(e=>{var t=e.loading;return{basicInformationLoading:t.effects["global/putBasicInformation"]}}),o(c=d((u=class extends g.PureComponent{constructor(){super(...arguments),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk;a.validateFields({force:!0},(e,t)=>{if(!e&&l){if(t.logo.fileList&&t.logo.fileList.length>0){var a=this.handleFileUrl(t.logo.fileList[0]);a&&(t.logo=a)}if(t.favicon.fileList&&t.favicon.fileList.length>0){var s=this.handleFileUrl(t.favicon.fileList[0]);s&&(t.favicon=s)}l(t)}})}),this.handleFileUrl=(e=>{return e.response&&200===e.response.code&&e.response.data.bean&&e.response.data.bean.file_url})}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,s=e.loading,o=void 0!==s&&s,d=e.basicInformationLoading,c=e.data,u=void 0===c?{}:c,p=l.getFieldDecorator,M={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},S=b.default.get("token"),_={};S&&(_.Authorization="GRJWT ".concat(S));var C={formItemLayout:M,form:l,data:u};return g.default.createElement(i.default,{visible:!0,title:t,confirmLoading:o||d,className:v.default.TelescopicModal,onCancel:a,onOk:this.onOk},g.default.createElement(f.default,{onSubmit:this.onOk},g.default.createElement(E,(0,r.default)({},M,{label:(0,h.formatMessage)({id:"enterpriseSetting.basicsSetting.basicInformation.form.label.title"})}),p("title",{initialValue:u.title||"",rules:[{required:!0,message:(0,h.formatMessage)({id:"placeholder.oauth.title"})},{max:64,message:(0,h.formatMessage)({id:"placeholder.appShare.max64"})}]})(g.default.createElement(n.default,{placeholder:(0,h.formatMessage)({id:"placeholder.oauth.title"})}))),g.default.createElement(E,(0,r.default)({},M,{label:(0,h.formatMessage)({id:"enterpriseSetting.basicsSetting.basicInformation.form.label.enterprise_alias"})}),p("enterprise_alias",{initialValue:u.enterprise_alias||"",rules:[{required:!0,message:(0,h.formatMessage)({id:"placeholder.oauth.enterprise_alias"})},{max:64,message:(0,h.formatMessage)({id:"placeholder.appShare.max64"})}]})(g.default.createElement(n.default,{placeholder:(0,h.formatMessage)({id:"placeholder.oauth.enterprise_alias"})}))),g.default.createElement(E,(0,r.default)({},M,{label:(0,h.formatMessage)({id:"enterpriseSetting.basicsSetting.basicInformation.form.label.doc_url"})}),p("doc_url",{rules:[{max:255,message:(0,h.formatMessage)({id:"placeholder.max255"})}],initialValue:u.doc_url||""})(g.default.createElement(n.default,{placeholder:(0,h.formatMessage)({id:"placeholder.oauth.doc_url"})}))),g.default.createElement(m.default,(0,r.default)({},C,{name:"logo",label:(0,h.formatMessage)({id:"enterpriseSetting.basicsSetting.basicInformation.form.label.logo"}),extra:(0,h.formatMessage)({id:"placeholder.oauth.logo"}),initialValue:u.logo,required:!1,uploadBtnStyle:{width:"236px",height:"35px"},imgstyle:{width:"236px",height:"35px"}})),g.default.createElement(m.default,(0,r.default)({},C,{name:"favicon",label:(0,h.formatMessage)({id:"enterpriseSetting.basicsSetting.basicInformation.form.label.favicon"}),extra:(0,h.formatMessage)({id:"placeholder.oauth.favicon"}),initialValue:u.favicon,required:!1,uploadBtnStyle:{width:"33px",height:"33px"},imgstyle:{width:"33px",height:"33px"}}))))}},c=u))||c)||c);t.default=M},"16D0":function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Znn+");var i,r,n,o=l(a("ZTPi")),d=a("MuoO"),c=a("7DNP"),u=s(a("q1tI")),f=l(a("XZXw")),m=l(a("+iC2")),p=l(a("2lxJ")),g=l(a("PP4y")),h=l(a("zmPw")),b=a("LLXN"),v=l(a("19Ab")),E=l(a("RsBk")),M=o.default.TabPane,S=(i=(0,d.connect)(e=>{var t=e.user,a=e.list,l=e.loading,s=e.global,i=e.index;return{user:t.currentUser,list:a,loading:l.models.list,rainbondInfo:s.rainbondInfo,enterprise:s.enterprise,isRegist:s.isRegist,oauthLongin:l.effects["global/creatOauth"],certificateLongin:l.effects["global/putCertificateType"],overviewInfo:i.overviewInfo}}),i((n=class extends u.PureComponent{constructor(e){super(e),this.onChange=(e=>{this.setState({activeKey:e})});var t=this.props.user,a=m.default.isCompanyAdmin(t);this.state={adminer:a,activeKey:"infrastructure"}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch;e||t(c.routerRedux.push("/"))}render(){var e=this.state,t=e.adminer,a=e.activeKey;return u.default.createElement(f.default,{title:u.default.createElement(b.FormattedMessage,{id:"enterpriseSetting.PageHeaderLayout.title"}),content:u.default.createElement(b.FormattedMessage,{id:"enterpriseSetting.PageHeaderLayout.content"}),titleSvg:p.default.getSvg("settingSvg",18),isContent:!0},u.default.createElement(o.default,{onChange:this.onChange,activeKey:a,type:"card",className:E.default.tabBarStyle},u.default.createElement(M,{tab:u.default.createElement("div",null,u.default.createElement(b.FormattedMessage,{id:"enterpriseSetting.TabPane.basicsSetting"})),key:"infrastructure"},u.default.createElement(h.default,this.props)),t&&u.default.createElement(M,{tab:u.default.createElement("div",null,u.default.createElement(b.FormattedMessage,{id:"enterpriseSetting.TabPane.enterpriseAdmin"})),key:"management"},u.default.createElement(v.default,this.props)),t&&u.default.createElement(M,{tab:u.default.createElement("div",null,u.default.createElement(b.FormattedMessage,{id:"enterpriseSetting.TabPane.dataBackups"})),key:"backup"},u.default.createElement(g.default,this.props))))}},r=n))||r);t.default=S},"19Ab":function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var i=l(a("W9HT"));a("R9oj");var r=l(a("ECub"));a("IzEo");var n=l(a("bx4M"));a("qVdP");var o=l(a("jsC+"));a("Pwec");var d=l(a("CtXQ"));a("14J3");var c=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("+L6B");var f=l(a("2/Rp"));a("lUTK");var m=l(a("BvKs"));a("/xke");var p,g,h,b=l(a("TeRw")),v=l(a("p0pE")),E=l(a("hMqj")),M=l(a("+iC2")),S=a("MuoO"),_=l(a("wd/R")),C=s(a("q1tI")),k=l(a("hEzB")),y=l(a("q76B")),x=a("LLXN"),I=l(a("RsBk")),O=(p=(0,S.connect)(e=>{var t=e.user,a=e.loading,l=e.global;return{user:t.currentUser,loading:a.models.list,rainbondInfo:l.rainbondInfo,enterprise:l.enterprise,oauthLongin:a.effects["global/creatOauth"]}}),p((h=class extends C.PureComponent{constructor(e){super(e),this.onAddAdmin=(()=>{this.setState({showAddAdmin:!0})}),this.getEnterpriseAdmins=(()=>{var e=this.props,t=e.dispatch,a=e.match.params.eid;t({type:"global/fetchEnterpriseAdmin",payload:{enterprise_id:a},callback:e=>{e&&200===e.status_code&&this.setState({adminList:e.list,enterpriseAdminLoading:!1})}})}),this.handleEdit=(e=>{this.setState({showAddAdmin:!0,info:e})}),this.handleCreateAdmin=(e=>{var t=this.props,a=t.dispatch,l=t.match.params.eid,s=this.state.info;a(s?{type:"global/editEnterpriseAdminTeams",payload:(0,v.default)({enterprise_id:l},e),callback:()=>{b.default.success({message:(0,x.formatMessage)({id:"notification.success.edit"})}),this.getEnterpriseAdmins(),this.cancelCreateAdmin()}}:{type:"global/addEnterpriseAdminTeams",payload:(0,v.default)({enterprise_id:l},e),callback:()=>{b.default.success({message:(0,x.formatMessage)({id:"notification.success.add"})}),this.getEnterpriseAdmins(),this.cancelCreateAdmin()}})}),this.cancelCreateAdmin=(()=>{this.setState({showAddAdmin:!1,info:!1})}),this.showDelTeam=(e=>{this.setState({showDelTeam:!0,exitAdminNameID:e})}),this.hideDelAdmin=(()=>{this.setState({showDelTeam:!1})}),this.handleDelAdmin=(()=>{var e=this.state.exitAdminNameID;this.props.dispatch({type:"global/deleteEnterpriseAdmin",payload:{user_id:e},callback:()=>{b.default.success({message:(0,x.formatMessage)({id:"notification.success.delete"})}),this.getEnterpriseAdmins(),this.hideDelAdmin()}})}),this.fetchEnterpriseInfo=(()=>{var e=this.props,t=e.dispatch,a=e.match.params.eid;t({type:"global/fetchEnterpriseInfo",payload:{enterprise_id:a}}),t({type:"user/fetchCurrent"})});var t=this.props.user,a=M.default.isCompanyAdmin(t);this.state={adminer:a,adminList:[],showAddAdmin:!1,exitAdminNameID:"",enterpriseAdminLoading:!1,showDelTeam:!1,info:!1}}componentWillMount(){this.fetchEnterpriseInfo(),this.getEnterpriseAdmins()}render(){var e=this.props,t=e.match.params.eid,a=e.user,l=this.state,s=l.adminList,p=l.enterpriseAdminLoading,g=l.showAddAdmin,h=l.showDelTeam,b=l.info,v=l.adminer,M=a&&a.user_id,S=s&&s.length>0&&s,O=()=>C.default.createElement("svg",{t:"1581212425061",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1314",width:"32",height:"32"},C.default.createElement("path",{d:"M512 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z","p-id":"1315",fill:"#999999"}),C.default.createElement("path",{d:"M512 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z","p-id":"1316",fill:"#999999"}),C.default.createElement("path",{d:"M512 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z","p-id":"1317",fill:"#999999"})),w=e=>{return C.default.createElement(m.default,null,C.default.createElement(m.default.Item,null,C.default.createElement("a",{href:"javascript:;",onClick:()=>{this.showDelTeam(e.user_id)}},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.Menu.delete"}))),C.default.createElement(m.default.Item,null,C.default.createElement("a",{href:"javascript:;",onClick:()=>{this.handleEdit(e)}},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.Menu.edit"}))))},L=C.default.createElement(u.default,{span:4,offset:20,style:{textAlign:"right",marginRight:10}},C.default.createElement(f.default,{type:"primary",onClick:this.onAddAdmin,className:I.default.btns},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.time.add"}))),B=C.default.createElement("div",{style:{marginTop:"10px"}},C.default.createElement(c.default,{style:{padding:"10px 0",marginBottom:10}},v&&L),S&&C.default.createElement(c.default,{className:I.default.teamMinTit,type:"flex",align:"middle",style:{padding:10,background:"#f5f6f8"}},C.default.createElement(u.default,{span:5},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.designation"})),C.default.createElement(u.default,{span:5},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.name"})),C.default.createElement(u.default,{span:6},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.role"})),C.default.createElement(u.default,{span:5},C.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.enterpriseAdmin.col.time"}))),S?S.map(e=>{var t=e.user_id,a=e.create_time,l=e.nick_name,s=e.real_name,i=e.roles;return C.default.createElement(n.default,{key:t,style:{marginBottom:"10px"},bodyStyle:{padding:0},style:{border:0,borderBottom:"1px solid #F1F0F3"},hoverable:!0},C.default.createElement(c.default,{type:"flex",align:"middle",style:{paddingLeft:"24px",height:"70px"}},C.default.createElement(u.default,{span:5},l),C.default.createElement(u.default,{span:5},s),C.default.createElement(u.default,{span:6},i.map(e=>{return C.default.createElement("span",{style:{marginRight:"5px"}},E.default.roleMap(e))})),C.default.createElement(u.default,{span:5},(0,_.default)(a).format("YYYY-MM-DD HH:mm:ss")),C.default.createElement(u.default,{span:2}),C.default.createElement(u.default,{span:1,className:I.default.bor},C.default.createElement(o.default,{disabled:M==t,overlay:w(e),placement:"bottomLeft"},C.default.createElement(d.default,{component:O,style:{width:"100%"}})))))}):C.default.createElement(r.default,{image:r.default.PRESENTED_IMAGE_SIMPLE}));return C.default.createElement(C.Fragment,null,g&&C.default.createElement(k.default,{eid:t,info:b,onOk:this.handleCreateAdmin,onCancel:this.cancelCreateAdmin}),h&&C.default.createElement(y.default,{onOk:this.handleDelAdmin,title:(0,x.formatMessage)({id:"confirmModal.admin.delete.title"}),subDesc:(0,x.formatMessage)({id:"confirmModal.delete.strategy.subDesc"}),desc:(0,x.formatMessage)({id:"confirmModal.delete.admin.desc"}),onCancel:this.hideDelAdmin}),p?C.default.createElement("div",{className:I.default.example},C.default.createElement(i.default,null)):B)}},g=h))||g);t.default=O},"4pKa":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.loadBackups=n,t.createBackup=d,t.removeBackup=u,t.recoverBackup=m;var s=l(a("d6i3")),i=l(a("1l/V")),r=l(a("t3Un"));function n(){return o.apply(this,arguments)}function o(){return o=(0,i.default)(s.default.mark(function e(){var t,a=arguments;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",(0,r.default)("/console/enterprise/".concat(t.enterprise_id,"/backups"),{method:"get",noModels:t.noModels}));case 2:case"end":return e.stop()}},e)})),o.apply(this,arguments)}function d(){return c.apply(this,arguments)}function c(){return c=(0,i.default)(s.default.mark(function e(){var t,a=arguments;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",(0,r.default)("/console/enterprise/".concat(t.enterprise_id,"/backups"),{method:"post"}));case 2:case"end":return e.stop()}},e)})),c.apply(this,arguments)}function u(){return f.apply(this,arguments)}function f(){return f=(0,i.default)(s.default.mark(function e(){var t,a=arguments;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",(0,r.default)("/console/enterprise/".concat(t.enterprise_id,"/backups"),{method:"delete",data:{name:t.name}}));case 2:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return p=(0,i.default)(s.default.mark(function e(){var t,a=arguments;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",(0,r.default)("/console/enterprise/".concat(t.enterprise_id,"/recover"),{method:"post",data:{name:t.name,password:t.password}}));case 2:case"end":return e.stop()}},e)})),p.apply(this,arguments)}},"6ryS":function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("y8nQ");var r,n,o,d,c=l(a("Vl3Y")),u=s(a("q1tI")),f=a("LLXN"),m=a("MuoO"),p=l(a("ZNrE")),g=l(a("mWxT")),h=l(a("e6Ls")),b=(r=(0,m.connect)(e=>{var t=e.global;return{enterprise:t.enterprise}}),n=c.default.create(),r(o=n((d=class extends u.PureComponent{constructor(){super(...arguments),this.handleSubmit=(()=>{var e=this.props,t=e.form,a=e.onOk,l=t.validateFields;l((e,t)=>{!e&&a&&a(t)})}),this.checkConfigFile=((e,t,a)=>{if(t){if(t.fileList.length>0){var l=t.fileList.splice(-1);return this.readFileContents(l,"auto_ssl_config"),void a()}}else a()}),this.readFileContents=((e,t)=>{var a=new FileReader;a.onload=(e=>{this.props.form.setFieldsValue({[t]:e.target.result})}),a.readAsText(e[0].originFileObj,"UTF-8")})}render(){var e=this.props,t=e.form,a=e.onCancel,l=e.enterprise,s=e.loading,r=e.AutomaticCertificate,n=g.default.CertificateIssuedByValue(l),o=t.getFieldDecorator,d=t.setFieldsValue,m={labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}};return u.default.createElement(i.default,{visible:!0,confirmLoading:s,title:r?(0,f.formatMessage)({id:"enterpriseSetting.basicsSetting.certificate.title"}):(0,f.formatMessage)({id:"enterpriseSetting.basicsSetting.Modal.title"}),className:h.default.TelescopicModal,onOk:this.handleSubmit,width:800,onCancel:a},u.default.createElement(c.default,{labelAlign:"left",onSubmit:this.handleSubmit},u.default.createElement(p.default,{setFieldsValue:d,formItemLayout:m,Form:c.default,getFieldDecorator:o,name:"auto_ssl_config",label:(0,f.formatMessage)({id:"enterpriseSetting.basicsSetting.Modal.label"}),message:(0,f.formatMessage)({id:"enterpriseSetting.basicsSetting.Modal.label.msg"}),width:"752px",data:n||""})))}},o=d))||o)||o);t.default=b},AqsJ:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("14J3");var r=l(a("BMrR"));a("jCWc");var n=l(a("kPKH"));a("fOrg");var o=l(a("+KLJ"));a("+L6B");var d=l(a("2/Rp"));a("/xke");var c=l(a("TeRw"));a("5Dmo");var u=l(a("3S7+"));a("2qtc");var f,m,p,g=l(a("kLXV")),h=a("MuoO"),b=s(a("q1tI")),v=a("LLXN"),E=l(a("q76B")),M=l(a("e6Ls")),S=l(a("t9D+")),_=g.default.confirm,C=(f=(0,h.connect)(e=>{var t=e.loading,a=e.global,l=e.index;return{rainbondInfo:a.rainbondInfo,enterprise:a.enterprise,isRegist:a.isRegist,oauthLongin:t.effects["global/creatOauth"],overviewInfo:l.overviewInfo}}),f((p=class extends b.PureComponent{constructor(e){var t;super(e),t=this,this.handleSubmit=(()=>{var e=this.props.onOk;e&&e()}),this.handleDiv=(e=>{return b.default.createElement(u.default,{title:e},b.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e))}),this.handleDel=(e=>{var t=this;_({title:"\u5220\u9664\u914d\u7f6e\u540e\u5df2\u7ed1\u5b9a\u7684\u7528\u6237\u6570\u636e\u5c06\u6e05\u9664",content:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk(){t.handleDeleteOauth(e)}})}),this.handleDeleteOauth=(e=>{var t=this.props.dispatch;t({type:"global/deleteOauthInfo",payload:{service_id:e.service_id},callback:e=>{e&&200===e.status_code&&(c.default.success({message:(0,v.formatMessage)({id:"notification.success.delete"})}),this.handelOauthInfo())}})}),this.handleCreatOauth=(e=>{var t=e.name,a=e.client_id,l=e.client_secret,s=e.oauth_type,i=e.home_url,r=e.redirect_domain,n=e.is_auto_login;s=s.toLowerCase(),"github"===s&&(i="https://github.com"),"aliyun"===s&&(i="https://oauth.aliyun.com"),"dingtalk"===s&&(i="https://oapi.dingtalk.com");var o={name:t,client_id:a,client_secret:l,is_auto_login:n,oauth_type:s,redirect_uri:"".concat(r,"/console/oauth/redirect"),home_url:i,is_console:!0};this.handelRequest(o)}),this.handelRequest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,l=t.props,s=l.dispatch,i=l.eid,r=t.state,n=r.oauthInfo,o=r.oauthTable,d=r.isOpen,u=[...o];e.eid=i,e.service_id=n?n.service_id:null,e.enable=!a,o&&o.length>0&&o.map((t,a)=>{var l=t.service_id;u[a].is_console=!0,n&&l===e.service_id&&(u[a]=Object.assign(u[a],e))}),!n&&u.push(e),s({type:"global/creatOauth",payload:{enterprise_id:i,arr:u},callback:e=>{e&&200===e.status_code&&(c.default.success({message:d?(0,v.formatMessage)({id:"notification.success.open"}):a?(0,v.formatMessage)({id:"notification.success.close"}):n?(0,v.formatMessage)({id:"notification.success.edit"}):(0,v.formatMessage)({id:"notification.success.add"})}),t.handelOauthInfo())}})},this.handleOpen=((e,t)=>{this.setState({openOauth:!0,oauthInfo:e,isOpen:t})}),this.handleOpenDomain=(e=>{this.setState({oauthInfo:e,showDeleteDomain:!0})}),this.handelClone=(()=>{this.setState({isOpen:!1,openOauth:!1,oauthInfo:!1,showDeleteDomain:!1})}),this.handelOauthInfo=(()=>{var e=this.props,t=e.dispatch,a=e.eid;t({type:"global/getOauthInfo",payload:{enterprise_id:a},callback:e=>{if(e&&200===e.status_code){var t=e.list&&e.list.length>0&&e.list;this.setState({loading:!1,oauthTable:t||[]}),this.handelClone()}}})}),this.state={loading:!0,oauthInfo:!1,oauthTable:[],openOauth:!1,isOpen:!1,showDeleteDomain:!1}}componentDidMount(){this.handelOauthInfo()}render(){var e=this.props,t=e.onCancel,a=e.oauthLongin,l=this.state,s=l.oauthTable,c=l.loading,u=l.openOauth,f=l.oauthInfo,m=l.showDeleteDomain,p=null;return s.map(e=>{return e.is_auto_login?(p=e,e):null}),b.default.createElement(g.default,{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.title"}),loading:c,className:M.default.TelescopicModal,width:1150,visible:!0,onOk:this.handleSubmit,onCancel:t,footer:[b.default.createElement(d.default,{style:{marginTop:"20px"},onClick:this.handleSubmit},(0,v.formatMessage)({id:"button.close"}))]},b.default.createElement("div",null,m&&b.default.createElement(E.default,{loading:a,title:(0,v.formatMessage)({id:"confirmModal.forbidden.delete.title"}),desc:(0,v.formatMessage)({id:"confirmModal.delete.forbidden.desc"}),onOk:()=>{this.handelRequest(f,"clone")},onCancel:this.handelClone}),u&&b.default.createElement(S.default,{loading:a,oauthInfo:f,onOk:this.handleCreatOauth,onCancel:this.handelClone}),b.default.createElement(r.default,{gutter:12},b.default.createElement(n.default,{span:12},p&&b.default.createElement(o.default,{message:"".concat(p.name," ").concat((0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.alert"})),type:"success"})),b.default.createElement(n.default,{span:12,style:{textAlign:"right",marginBottom:"10px"}},b.default.createElement(d.default,{onClick:()=>{this.handleOpen(!1)},type:"primary",icon:"plus"},(0,v.formatMessage)({id:"button.add"})))),b.default.createElement(i.default,{dataSource:s,style:{width:"100%",overflowX:"auto"},columns:[{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.oauth_type"}),dataIndex:"oauth_type",key:"1",width:"10%"},{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.name"}),dataIndex:"name",key:"2",width:"15%"},{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.client_id"}),dataIndex:"client_id",key:"3",width:"15%",render:e=>this.handleDiv(e)},{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.client_secret"}),dataIndex:"client_secret",key:"4",width:"15%",render:e=>this.handleDiv(e)},{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.home_url"}),dataIndex:"home_url",key:"5",width:"15%",render:e=>this.handleDiv(e)},{title:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.action"}),dataIndex:"action",width:"15%",key:"action",align:"center",render:(e,t)=>b.default.createElement("div",null,b.default.createElement("a",{style:{marginRight:"10px"},onClick:()=>{this.handleDel(t)}},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.del"})),b.default.createElement("a",{style:{marginRight:"10px"},onClick:()=>{this.handleOpen(t)}},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.edit"})),b.default.createElement("a",{onClick:()=>{t.enable?this.handleOpenDomain(t):this.handleOpen(t,!0)}},t.enable?(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.disable"}):(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.Modal.table.enabled"})))}]})))}},m=p))||m);t.default=C},Bq0W:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV")),r=l(a("jehZ"));a("5NDa");var n=l(a("5rEg"));a("y8nQ");var o,d,c,u=l(a("Vl3Y")),f=s(a("q1tI")),m=a("LLXN"),p=l(a("8+Sn")),g=l(a("e6Ls")),h=(u.default.Item,o=u.default.create(),o((c=class extends f.PureComponent{constructor(e){super(e),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields({force:!0},(e,t)=>{!e&&a&&a(t)})}),this.state={language:"zh-CN"===p.default.get("language")}}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.data,s=void 0===l?{}:l,o=e.form,d=e.loading,c=void 0!==d&&d,p=o.getFieldDecorator,h=this.state.language,b={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}}},v={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},E=h?b:v;return f.default.createElement(i.default,{title:t,confirmLoading:c,visible:!0,className:g.default.TelescopicModal,onCancel:a,onOk:this.onOk},f.default.createElement(u.default,{onSubmit:this.onOk},f.default.createElement(u.default.Item,(0,r.default)({},E,{label:(0,m.formatMessage)({id:"enterpriseSetting.basicsSetting.mirroring.form.label.hub_url"})}),f.default.createElement(n.default.Group,{compact:!0},p("hub_url",{initialValue:s.hub_url||"",rules:[{required:!0,message:(0,m.formatMessage)({id:"placeholder.git_url"})},{max:255,message:(0,m.formatMessage)({id:"placeholder.max255"})}]})(f.default.createElement(n.default,{placeholder:(0,m.formatMessage)({id:"placeholder.git_url_domain"})})))),f.default.createElement(u.default.Item,(0,r.default)({},E,{label:(0,m.formatMessage)({id:"enterpriseSetting.basicsSetting.mirroring.form.label.namespace"})}),p("namespace",{initialValue:s.namespace||"",rules:[{max:255,message:(0,m.formatMessage)({id:"placeholder.max255"})},{pattern:/^[a-zA-Z][\da-zA-Z]*$/,message:(0,m.formatMessage)({id:"placeholder.appShare.formatError"})}]})(f.default.createElement(n.default,{placeholder:(0,m.formatMessage)({id:"placeholder.oauth.namespace"})}))),f.default.createElement(u.default.Item,(0,r.default)({},E,{label:(0,m.formatMessage)({id:"enterpriseSetting.basicsSetting.mirroring.form.label.hub_user"})}),p("hub_user",{initialValue:s.hub_user||"",rules:[{max:64,message:(0,m.formatMessage)({id:"placeholder.appShare.max64"})}]})(f.default.createElement(n.default,{placeholder:(0,m.formatMessage)({id:"placeholder.userName"})}))),f.default.createElement(u.default.Item,(0,r.default)({},E,{label:(0,m.formatMessage)({id:"enterpriseSetting.basicsSetting.mirroring.form.label.hub_password"})}),p("hub_password",{initialValue:s.hub_password||"",rules:[{max:64,message:(0,m.formatMessage)({id:"placeholder.appShare.max64"})}]})(f.default.createElement(n.default,{type:"password",placeholder:(0,m.formatMessage)({id:"placeholder.oauth.password"})})))))}},d=c))||d);t.default=h},HzM2:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("5NDa");var r=l(a("5rEg")),n=l(a("jehZ"));a("OaEy");var o=l(a("2fM7"));a("y8nQ");var d,c,u,f=l(a("Vl3Y")),m=s(a("q1tI")),p=a("LLXN"),g=l(a("e6Ls")),h=f.default.Item,b=(d=f.default.create(),d((u=class extends m.PureComponent{constructor(){super(...arguments),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields({force:!0},(e,t)=>{!e&&a&&a(t)})})}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.data,s=void 0===l?{}:l,d=e.form,c=e.providers,u=e.loading,b=void 0!==u&&u,v=d.getFieldDecorator,E={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return m.default.createElement(i.default,{title:t,confirmLoading:b,visible:!0,className:g.default.TelescopicModal,onCancel:a,onOk:this.onOk},m.default.createElement(f.default,{onSubmit:this.onOk},m.default.createElement(h,(0,n.default)({},E,{label:(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.storage.form.label.provider"})}),v("provider",{initialValue:s.provider||"",rules:[{required:!0,message:(0,p.formatMessage)({id:"placeholder.copy.not_null"})}]})(m.default.createElement(o.default,{getPopupContainer:e=>e.parentNode},c.map(e=>{return m.default.createElement(Option,{key:e.key,value:e.key},e.name)})))),m.default.createElement(f.default.Item,(0,n.default)({},E,{label:"endpoint"}),v("endpoint",{initialValue:s.endpoint||"",rules:[{required:!0,message:(0,p.formatMessage)({id:"placeholder.oauth.endpoint"})},{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(r.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.endpoint"})}))),m.default.createElement(f.default.Item,(0,n.default)({},E,{label:"bucket_name"}),v("bucket_name",{initialValue:s.bucket_name||"",rules:[{required:!0,message:(0,p.formatMessage)({id:"placeholder.oauth.bucket_name"})},{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(r.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.bucket_name"})}))),m.default.createElement(f.default.Item,(0,n.default)({},E,{name:"access_key",label:"Access Key"}),v("access_key",{initialValue:s.access_key||"",rules:[{required:!0,message:(0,p.formatMessage)({id:"placeholder.oauth.access_key"})},{max:1024,message:(0,p.formatMessage)({id:"placeholder.max1024"})}]})(m.default.createElement(r.default,{placeholder:"Access Key"}))),m.default.createElement(f.default.Item,(0,n.default)({},E,{name:"secret_key",label:"Secret Key"}),v("secret_key",{initialValue:s.secret_key||"",rules:[{required:!0,message:(0,p.formatMessage)({id:"placeholder.oauth.secret_key"})},{max:1024,message:(0,p.formatMessage)({id:"placeholder.max1024"})}]})(m.default.createElement(r.default,{type:"password",placeholder:"Secret Key"})))))}},c=u))||c);t.default=b},PCLb:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("y8nQ");var i=l(a("Vl3Y")),r=l(a("jehZ"));a("DZo9");var n=l(a("8z0m"));a("T2oS");var o=l(a("W9HT"));a("Pwec");var d,c,u,f=l(a("CtXQ")),m=s(a("q1tI")),p=a("MuoO"),g=l(a("nyIC")),h=l(a("8+Sn")),b=l(a("e6Ls")),v=(d=(0,p.connect)(),d((u=class extends m.PureComponent{constructor(e){super(e),this.handleLogoChange=(e=>{"uploading"!==e.file.status?"done"===e.file.status&&e.file&&e.file.response&&e.file.response.data&&e.file.response.data.bean&&e.file.response.data.bean.file_url&&this.setState({imageUrl:e.file.response.data.bean.file_url,loading:!1}):this.setState({loading:!0})}),this.handleLogoRemove=(()=>{this.setState({imageUrl:""})}),this.handleSubmit=(()=>{var e=this.props,t=e.form,a=e.onOk;t.validateFields((e,t)=>{!e&&a&&a(t)})}),this.state={loading:!1,imageUrl:""}}componentDidMount(){var e=this.props.initialValue;this.setState({imageUrl:e||""})}render(){var e=this.props,t=e.label,a=e.extra,l=e.initialValue,s=e.form,d=e.imgstyle,c=e.uploadBtnStyle,u=e.formItemLayout,p=e.name,v=e.message,E=e.required,M=void 0===E||E,S=s.getFieldDecorator,_=this.state,C=_.loading,k=_.imageUrl,y=h.default.get("token"),x={};y&&(x.Authorization="GRJWT ".concat(y));var I=m.default.createElement("div",{style:c},m.default.createElement(f.default,{type:"plus"}),m.default.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20\u56fe\u6807"));return m.default.createElement(i.default.Item,(0,r.default)({},u,{label:t,extra:a}),S(p,{initialValue:l,rules:[{required:M,message:v||"\u8bf7\u4e0a\u4f20\u56fe\u6807"}]})(m.default.createElement(n.default,{name:"file",accept:"image/jpg,image/jpeg,image/png",className:b.default.customUpload,action:g.default.imageUploadUrl,listType:"picture-card",headers:x,showUploadList:!1,onChange:this.handleLogoChange,onRemove:this.handleLogoRemove,loading:C},k?m.default.createElement(o.default,{spinning:C},m.default.createElement("img",{src:k,alt:"avatar",style:d})):I)))}},c=u))||c),E=v;t.default=E},PP4y:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var i=l(a("5rEg"));a("g9YV");var r=l(a("wCAj"));a("14J3");var n=l(a("BMrR"));a("DZo9");var o=l(a("8z0m"));a("+L6B");var d=l(a("2/Rp"));a("jCWc");var c=l(a("kPKH"));a("fOrg");var u=l(a("+KLJ"));a("P2fV");var f=l(a("NJEC"));a("/xke");var m=l(a("TeRw"));a("2qtc");var p=l(a("kLXV"));a("y8nQ");var g,h,b,v,E=l(a("Vl3Y")),M=a("MuoO"),S=s(a("q1tI")),_=a("4pKa"),C=l(a("8+Sn")),k=l(a("mJtp")),y=l(a("ZgmS")),x=a("LLXN"),I=l(a("RsBk")),O=E.default.Item,w=p.default.confirm,L=(g=(0,M.connect)(e=>{var t=e.user,a=e.loading,l=e.global;return{user:t.currentUser,loading:a.models.list,rainbondInfo:l.rainbondInfo,enterprise:l.enterprise}}),h=E.default.create(),g(b=h((v=class extends S.PureComponent{constructor(e){super(e),this.onAddBackup=(()=>{var e=this.props.match.params.eid;this.setState({addLoading:!0}),w({title:(0,x.formatMessage)({id:"confirmModal.delete.data_backup.desc"}),content:(0,x.formatMessage)({id:"confirmModal.delete.data_backup.subDesc"}),okText:(0,x.formatMessage)({id:"button.confirm"}),cancelText:(0,x.formatMessage)({id:"button.cancel"}),onOk:()=>{(0,_.createBackup)({enterprise_id:e}).then(e=>{e&&200===e.status_code&&(m.default.success({message:(0,x.formatMessage)({id:"status.app.backups.success"})}),this.loadBackups()),this.setState({addLoading:!1})})},onCancel:()=>{this.setState({addLoading:!1})}})}),this.onRecover=(e=>{this.setState({recoverShow:!0,recoverBackupName:e})}),this.onRemove=(e=>{var t=this.props.match.params.eid;(0,_.removeBackup)({enterprise_id:t,name:e}).then(e=>{e&&200===e.status_code&&(m.default.success({message:(0,x.formatMessage)({id:"notification.success.delete"})}),this.loadBackups())})}),this.onDownload=(e=>{var t=this.props.match.params.eid;(0,k.default)("/console/enterprise/".concat(t,"/backups/").concat(e),e)}),this.onChangeUpload=(e=>{var t=e.file.status;"done"===t?(m.default.success({message:(0,x.formatMessage)({id:"notification.success.upload"})}),this.loadBackups(),this.setState({uploadLoading:!1})):this.setState({uploadLoading:!0})}),this.loadBackups=(()=>{this.setState({backupLoading:!0});var e=this.props.match.params.eid;(0,_.loadBackups)({enterprise_id:e,noModels:!0}).then(e=>{this.setState({backups:e.list,backupLoading:!1})}).catch(()=>{this.setState({backupLoading:!1})})}),this.submitOnRecover=(()=>{var e=this.props,t=e.match.params.eid,a=e.form;this.setState({recoverLoading:!0});var l=this.state.recoverBackupName;a.validateFields({force:!0},(e,a)=>{e||(0,_.recoverBackup)({enterprise_id:t,name:l,password:a.password}).then(e=>{e&&200===e.status_code?(m.default.success({message:(0,x.formatMessage)({id:"notification.success.restore_success"})}),this.loadBackups(),this.setState({recoverShow:!1,recoverLoading:!1})):this.setState({recoverLoading:!1})})})}),this.state={backups:[],recoverShow:!1,recoverBackupName:null,backupLoading:!0}}componentDidMount(){this.loadBackups()}render(){var e=this.props.match.params.eid,t=this.state,a=t.backups,l=t.backupLoading,s=t.recoverShow,m=t.recoverLoading,g=t.addLoading,h=t.uploadLoading,b=this.props.form,v=[{title:(0,x.formatMessage)({id:"enterpriseSetting.BackupManage.table.backupFile"}),dataIndex:"name"},{title:(0,x.formatMessage)({id:"enterpriseSetting.BackupManage.table.size"}),dataIndex:"size",render:e=>y.default.unit(e/1024)},{title:(0,x.formatMessage)({id:"enterpriseSetting.BackupManage.table.handle"}),dataIndex:"name",render:e=>[S.default.createElement(f.default,{title:(0,x.formatMessage)({id:"confirmModal.delete.take_hand.desc"}),okText:(0,x.formatMessage)({id:"button.confirm"}),onConfirm:()=>this.onRemove(e)},S.default.createElement("a",null,S.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.BackupManage.table.handle.delete"}))),S.default.createElement("a",{onClick:()=>{this.onDownload(e)}},S.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.BackupManage.table.handle.install"})),S.default.createElement("a",{onClick:()=>this.onRecover(e)},S.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.BackupManage.table.handle.recover"}))]}],M=b.getFieldDecorator,_=C.default.get("token"),k="/console/enterprise/".concat(e,"/upload-backups");return S.default.createElement(S.Fragment,null,S.default.createElement("div",null,S.default.createElement(n.default,{style:{padding:"10px 0",marginBottom:20}},S.default.createElement(c.default,{span:16},S.default.createElement(u.default,{type:"info",message:S.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.BackupManage.alert.message"})})),S.default.createElement(c.default,{span:8,style:{textAlign:"right"}},S.default.createElement(o.default,{showUploadList:!1,name:"file",accept:".gz",action:k,onChange:this.onChangeUpload,headers:{Authorization:"GRJWT ".concat(_)},disabled:h},S.default.createElement(d.default,{loading:h,style:{marginRight:"16px"}},S.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.BackupManage.button.importBackups"}))),S.default.createElement(d.default,{type:"primary",onClick:this.onAddBackup,loading:g,className:I.default.btns},S.default.createElement(x.FormattedMessage,{id:"enterpriseSetting.BackupManage.button.addBackups"})))),S.default.createElement(n.default,{style:{background:"#fff"}},S.default.createElement(c.default,null,S.default.createElement(r.default,{loading:l,pagination:!1,dataSource:a,columns:v}))),s&&S.default.createElement(p.default,{onCancel:()=>{this.setState({recoverBackupName:null,recoverShow:!1})},onOk:this.submitOnRecover,confirmLoading:m,visible:!0,width:400,title:(0,x.formatMessage)({id:"enterpriseSetting.BackupManage.importBackups.title"})},S.default.createElement(u.default,{type:"error",message:(0,x.formatMessage)({id:"enterpriseSetting.BackupManage.importBackups.alert"})}),S.default.createElement(E.default,null,S.default.createElement(O,{label:(0,x.formatMessage)({id:"enterpriseSetting.BackupManage.importBackups.form.label.password"})},M("password",{initialValue:"",rules:[{required:!0,message:(0,x.formatMessage)({id:"placeholder.oauth.importBackups"})}]})(S.default.createElement(i.default,{type:"password",placeholder:(0,x.formatMessage)({id:"placeholder.oauth.importBackups"})})))))))}},b=v))||b)||b);t.default=L},Qqzp:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("Pwec");var r=l(a("CtXQ")),n=l(a("jehZ"));a("5NDa");var o=l(a("5rEg"));a("y8nQ");var d,c,u,f=l(a("Vl3Y")),m=s(a("q1tI")),p=a("LLXN"),g=l(a("8+Sn")),h=l(a("e6Ls")),b=f.default.Item,v=(d=f.default.create(),d((u=class extends m.PureComponent{constructor(e){super(e),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields({force:!0},(e,t)=>{!e&&a&&a(t)})}),this.handleAdvancedConfiguration=(()=>{this.setState({advancedConfiguration:!this.state.advancedConfiguration})}),this.state={advancedConfiguration:!1,language:"zh-CN"===g.default.get("language")}}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.data,s=void 0===l?{}:l,d=e.form,c=e.loading,u=void 0!==c&&c,g=d.getFieldDecorator,v=this.state.language,E={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},M={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},S=v?E:M,_=this.state.advancedConfiguration,C={display:_?"block":"none"};return m.default.createElement(i.default,{title:t,confirmLoading:u,visible:!0,className:h.default.TelescopicModal,onCancel:a,onOk:this.onOk},m.default.createElement(f.default,{onSubmit:this.onOk},m.default.createElement(b,(0,n.default)({},S,{label:(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.form.label.home_url"})}),m.default.createElement(o.default.Group,{compact:!0},g("home_url",{initialValue:s.home_url||"",rules:[{required:!0,message:(0,p.formatMessage)({id:"placeholder.oauth.home_url"})},{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(o.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.home_url"})})))),!_&&m.default.createElement("div",null,m.default.createElement("p",{style:{textAlign:"center"}},(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.form.label.more"}),m.default.createElement("br",null),m.default.createElement(r.default,{type:"down",onClick:this.handleAdvancedConfiguration}))),m.default.createElement(b,(0,n.default)({style:C},S,{label:(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.form.label.cluster_monitor_suffix"})}),g("cluster_monitor_suffix",{initialValue:s.cluster_monitor_suffix||"",rules:[{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(o.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.cluster_monitor_suffix"})}))),m.default.createElement(b,(0,n.default)({style:C},S,{label:(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.form.label.node_monitor_suffix"})}),g("node_monitor_suffix",{initialValue:s.node_monitor_suffix||"",rules:[{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(o.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.node_monitor_suffix"})}))),m.default.createElement(b,(0,n.default)({style:C},S,{label:(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.form.label.component_monitor_suffix"})}),g("component_monitor_suffix",{initialValue:s.component_monitor_suffix||"",rules:[{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(o.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.component_monitor_suffix"})}))),m.default.createElement(b,(0,n.default)({style:C},S,{label:(0,p.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.form.label.slo_monitor_suffix"})}),g("slo_monitor_suffix",{initialValue:s.slo_monitor_suffix||"",rules:[{max:255,message:(0,p.formatMessage)({id:"placeholder.max255"})}]})(m.default.createElement(o.default,{placeholder:(0,p.formatMessage)({id:"placeholder.oauth.slo_monitor_suffix"})}))),_&&m.default.createElement("div",{style:{textAlign:"center",marginBottom:"20px"}},m.default.createElement(r.default,{type:"up",onClick:this.handleAdvancedConfiguration}))))}},c=u))||c);t.default=v},RsBk:function(e,t,a){e.exports={automaTictelescopingSwitch:"automaTictelescopingSwitch___1-Vy7",btns:"btns___s2FpH",bor:"bor___1c09Y",tabBarStyle:"tabBarStyle___2zyz3"}},h1Cg:function(e,t,a){e.exports={clearConform:"clearConform___11ZDZ",conformDesc:"conformDesc___9X9l4",clearConformMinTitle:"clearConformMinTitle___1eavz",formWrap:"formWrap___4CogU",thirdModal:"thirdModal___1zMBq",lists:"lists___1XwSr",listItem:"listItem___16Bib",listItemMataTitle:"listItemMataTitle___5I9Qk",listItemMataDesc:"listItemMataDesc___3BQqP",listItemMataBranch:"listItemMataBranch___2RgZn"}},hEzB:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV")),r=l(a("jehZ"));a("OaEy");var n=l(a("2fM7"));a("y8nQ");var o,d,c,u,f=l(a("Vl3Y")),m=a("MuoO"),p=s(a("q1tI")),g=a("LLXN"),h=l(a("hMqj")),b=l(a("e6Ls")),v=f.default.Item,E=n.default.Option,M=(o=f.default.create(),d=(0,m.connect)(e=>{var t=e.user;return{currUser:t.currentUser}},null,null,{withRef:!0}),o(c=d((u=class extends p.PureComponent{constructor(e){super(e),this.onSearch=(e=>{this.loadTeams(e)}),this.loadRoles=(()=>{var e=this.props,t=e.dispatch,a=e.eid;t({type:"global/fetchEnterpriseRoles",payload:{enterprise_id:a},callback:e=>{e&&this.setState({roles:e.list||[]})}})}),this.loadTeams=(e=>{var t=this.props,a=t.dispatch,l=t.eid;a({type:"global/fetchEnterpriseUsers",payload:{enterprise_id:l,page:1,page_size:999,name:e},callback:e=>{e&&this.setState({adminList:e.list})}})}),this.handleSubmit=(()=>{var e=this.props,t=e.form,a=e.onOk;t.validateFields((e,t)=>{!e&&a&&a(t)})}),this.state={adminList:[],roles:["app_store","admin"]}}componentDidMount(){this.loadTeams(),this.loadRoles()}render(){var e=this.state,t=e.adminList,a=e.roles,l=this.props,s=(l.onOk,l.onCancel),o=(l.actions,l.info),d=l.form,c=d.getFieldDecorator,u={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}};return p.default.createElement(i.default,{title:o?(0,g.formatMessage)({id:"enterpriseSetting.enterpriseAdmin.col.Menu.edit"}):(0,g.formatMessage)({id:"enterpriseSetting.enterpriseAdmin.col.time.add"}),visible:!0,className:b.default.TelescopicModal,onOk:this.handleSubmit,onCancel:s},p.default.createElement(f.default,{onSubmit:this.handleSubmit,layout:"horizontal"},p.default.createElement(v,(0,r.default)({},u,{label:(0,g.formatMessage)({id:"enterpriseSetting.enterpriseAdmin.form.select.user_id"})}),c("user_id",{initialValue:o&&o.user_id||"",rules:[{required:!0,message:(0,g.formatMessage)({id:"placeholder.userName"})}]})(p.default.createElement(n.default,{getPopupContainer:e=>e.parentNode,showSearch:!0,style:{width:300},placeholder:(0,g.formatMessage)({id:"placeholder.userName"}),optionFilterProp:"children",onSearch:this.onSearch,filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},t&&t.length>0&&t.map(e=>{var t=e.nick_name,a=e.user_id;return p.default.createElement(E,{key:a,value:a},t)})))),p.default.createElement(v,(0,r.default)({},u,{label:(0,g.formatMessage)({id:"enterpriseSetting.enterpriseAdmin.form.select.roles"})}),c("roles",{initialValue:o&&o.roles||[],rules:[{required:!0,message:(0,g.formatMessage)({id:"placeholder.role_ids"})}]})(p.default.createElement(n.default,{getPopupContainer:e=>e.parentNode,mode:"multiple",placeholder:(0,g.formatMessage)({id:"placeholder.role_ids"}),style:{width:300}},a.map((e,t)=>{return p.default.createElement(E,{key:t,value:e},h.default.roleMap(e))}))))))}},c=u))||c)||c);t.default=M},"t9D+":function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("BoS7");var r=l(a("Sdc0"));a("5NDa");var n=l(a("5rEg"));a("y8nQ");var o=l(a("Vl3Y")),d=l(a("jehZ"));a("+L6B");var c=l(a("2/Rp")),u=l(a("jHYr"));a("OaEy");var f,m,p,g=l(a("2fM7")),h=a("MuoO"),b=s(a("q1tI")),v=a("LLXN"),E=l(a("LdkA")),M=l(a("DVfu")),S=l(a("e6Ls")),_=l(a("h1Cg")),C=g.default.Option,k=(f=(0,h.connect)(e=>{return(0,u.default)(e),{}}),f((p=class extends b.PureComponent{constructor(e){super(e),this.fetchOauthType=(()=>{var e=this.props.dispatch;e({type:"user/fetchOauthType",callback:e=>{e&&200===e.status_code&&this.setState({oauthList:e.bean&&e.bean.oauth_type})}})}),this.handleSubmit=(()=>{this.props.form.validateFields((e,t)=>{!e&&this.props.onOk&&this.props.onOk(t)})}),this.state={oauthList:[],edit:!1}}componentDidMount(){this.fetchOauthType();var e=this.props.oauthInfo;e&&this.setState({edit:!0})}componentWillUpdate(e){var t=e.oauthInfo;t&&this.setState({edit:!0})}render(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue,l=this.props,s=l.onCancel,u=l.loading,f=l.oauthInfo,m=this.state,p=m.edit,h=m.oauthList,k={labelCol:{span:8},wrapperCol:{span:16}},y=a("oauth_type")||"github";return b.default.createElement(i.default,{visible:!0,title:p?(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.title.edit"}):(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.title.add"}),maskClosable:!1,onOk:this.handleSubmit,onCancel:s,width:600,className:S.default.TelescopicModal,footer:[b.default.createElement(c.default,{type:"primary",loading:u,onClick:this.handleSubmit},(0,v.formatMessage)({id:"button.confirm"})),b.default.createElement(c.default,{onClick:s}," ",(0,v.formatMessage)({id:"button.cancel"}))]},b.default.createElement(o.default,{layout:"horizontal",hideRequiredMark:!0,onSubmit:this.handleSubmit},b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:E.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.oauth_type"}))}),t("oauth_type",{initialValue:f?f.oauth_type:"github",rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.oauth.oauth_type"})}]})(b.default.createElement(g.default,{getPopupContainer:e=>e.parentNode,disabled:p,placeholder:(0,v.formatMessage)({id:"placeholder.oauth.oauth_type"})},h&&h.map(e=>b.default.createElement(C,{key:e,value:e},e)))),p&&b.default.createElement("div",{className:_.default.conformDesc},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.oauth_type.desc"}))),b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:E.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.name"}))}),t("name",{initialValue:f?f.name:"",rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.appShare.appPublish.name"})},{max:32,message:(0,v.formatMessage)({id:"placeholder.max32"})}]})(b.default.createElement(n.default,{placeholder:(0,v.formatMessage)({id:"placeholder.appShare.appPublish.name"})})),b.default.createElement("div",{className:_.default.conformDesc},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.name.desc"}))),"github"!==y&&"aliyun"!==y&&"dingtalk"!==y&&b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:M.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.home_url"}))}),t("home_url",{initialValue:f?f.home_url:"",rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.oauth.home_url"})},{type:"url",message:(0,v.formatMessage)({id:"placeholder.oauth.not_url"})},{max:255,message:(0,v.formatMessage)({id:"placeholder.max255"})}]})(b.default.createElement(n.default,{disabled:p,placeholder:(0,v.formatMessage)({id:"placeholder.oauth.home_url"})})),b.default.createElement("div",{className:_.default.conformDesc},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.home_url.desc"}))),b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:M.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.client_id"}))}),t("client_id",{initialValue:f?f.client_id:"",rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.oauth.client_id"})},{max:64,message:(0,v.formatMessage)({id:"placeholder.appShare.max64"})}]})(b.default.createElement(n.default,{disabled:p,placeholder:(0,v.formatMessage)({id:"placeholder.oauth.client_id"})})),b.default.createElement("div",{className:_.default.conformDesc},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.client_id.desc"}))),b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:M.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.client_secret"}))}),t("client_secret",{initialValue:f?f.client_secret:"",rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.oauth.client_secret"})},{max:64,message:(0,v.formatMessage)({id:"placeholder.appShare.max64"})}]})(b.default.createElement(n.default,{disabled:p,placeholder:(0,v.formatMessage)({id:"placeholder.oauth.client_secret"})})),b.default.createElement("div",{className:_.default.conformDesc},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.client_secret.desc"}))),b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:M.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.redirect_domain"}))}),t("redirect_domain",{initialValue:f?f.redirect_uri.replace("/console/oauth/redirect",""):"".concat(window.location.protocol,"//").concat(window.location.host),rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.oauth.redirect_domain"})},{type:"url",message:(0,v.formatMessage)({id:"placeholder.oauth.not_url"})},{max:255,message:(0,v.formatMessage)({id:"placeholder.max255"})}]})(b.default.createElement(n.default,{placeholder:(0,v.formatMessage)({id:"placeholder.oauth.redirect_domains"}),addonAfter:"/console/oauth/redirect"})),b.default.createElement("div",{className:_.default.conformDesc},(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.redirect_domain.desc"}))),b.default.createElement(o.default.Item,(0,d.default)({className:_.default.clearConform},k,{label:b.default.createElement("div",{className:_.default.clearConformMinTitle},b.default.createElement("img",{src:M.default,alt:""}),(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.is_auto_login"})),extra:(0,v.formatMessage)({id:"enterpriseSetting.basicsSetting.serve.form.label.is_auto_login.desc"})}),t("is_auto_login",{initialValue:!!f&&f.is_auto_login,rules:[{required:!0,message:(0,v.formatMessage)({id:"placeholder.oauth.is_auto_login"})}]})(b.default.createElement(r.default,{checkedChildren:(0,v.formatMessage)({id:"button.switch.open"}),unCheckedChildren:(0,v.formatMessage)({id:"button.switch.close"}),defaultChecked:!!f&&f.is_auto_login})))))}},m=p))||m),y=o.default.create()(k),x=y;t.default=x},zmPw:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var i=l(a("W9HT"));a("IzEo");var r=l(a("bx4M"));a("14J3");var n=l(a("BMrR"));a("BoS7");var o=l(a("Sdc0"));a("jCWc");var d=l(a("kPKH")),c=l(a("p0pE"));a("/xke");var u,f,m,p,g,h=l(a("TeRw")),b=a("MuoO"),v=s(a("q1tI")),E=l(a("W2Kv")),M=l(a("6ryS")),S=l(a("HzM2")),_=l(a("q76B")),C=l(a("Bq0W")),k=l(a("Qqzp")),y=l(a("+XgA")),x=l(a("mWxT")),I=l(a("RsBk")),O=a("LLXN"),w=l(a("AqsJ")),L=(u=(0,b.connect)(e=>{var t=e.user,a=e.list,l=e.loading,s=e.global,i=e.index;return{user:t.currentUser,list:a,loading:l.models.list,rainbondInfo:s.rainbondInfo,enterprise:s.enterprise,isRegist:s.isRegist,oauthLongin:l.effects["global/creatOauth"],certificateLongin:l.effects["global/putCertificateType"],imageHubLongin:l.effects["global/editImageHub"],monitoringLongin:l.effects["global/editImageHub"],objectStorageLongin:l.effects["global/editCloudBackup"],overviewInfo:i.overviewInfo}}),u((m=class extends v.PureComponent{constructor(e){super(e),this.onRegistChange=(e=>{this.props.dispatch({type:"global/putIsRegist",payload:{isRegist:e}})}),this.handlChooseeOpen=(()=>{var e=this.state.israinbondTird;e?this.handleOpenDomain():this.handelIsOpen(!0)}),this.handleOpenDomain=(()=>{this.setState({showDeleteDomain:!0})}),this.handelIsOpen=(e=>{var t=this.props.dispatch;t({type:"global/editOauth",payload:{arr:{enable:e,value:null}},callback:t=>{t&&200===t.status_code&&(h.default.success({message:e?(0,O.formatMessage)({id:"notification.success.Oauth2"}):(0,O.formatMessage)({id:"notification.success.close"})}),this.fetchEnterpriseInfo())}})}),this.handelIsOpenImageHub=((e,t)=>{var a=this.props,l=a.dispatch,s=a.match.params.eid,i=this.state,r=i.AppstoreImageHubValue,n=i.isEnableAppstoreImageHub,o=t||r||{};l({type:"global/editImageHub",payload:{enterprise_id:s,enable:e,hub_url:o.hub_url,namespace:o.namespace,hub_user:o.hub_user,hub_password:o.hub_password},callback:a=>{a&&200===a.status_code&&(h.default.success({message:n?e&&t?(0,O.formatMessage)({id:"notification.success.change"}):(0,O.formatMessage)({id:"notification.success.close"}):(0,O.formatMessage)({id:"notification.success.opened_successfully"})}),this.fetchEnterpriseInfo(),this.handelCloseImageHub())}})}),this.handelIsOpenMonitorin=((e,t)=>{var a=this.props,l=a.dispatch,s=a.match.params.eid,i=this.state,r=i.MonitoringValue,n=i.isEnableMonitoring,o=t||r||{};l({type:"global/editMonitorin",payload:(0,c.default)({enterprise_id:s,enable:e},o),callback:a=>{a&&200===a.status_code&&(h.default.success({message:n?e&&t?(0,O.formatMessage)({id:"notification.success.change"}):(0,O.formatMessage)({id:"notification.success.close"}):(0,O.formatMessage)({id:"notification.success.opened_successfully"})}),this.fetchEnterpriseInfo(),this.handelCloseMonitoring())}})}),this.handelIsOpenCloudBackup=((e,t)=>{var a=this.props,l=a.dispatch,s=a.match.params.eid,i=this.state,r=i.ObjectStorageValue,n=i.isEnableObjectStorage,o=t||r||{};l({type:"global/editCloudBackup",payload:{enterprise_id:s,enable:e,provider:o.provider,endpoint:o.endpoint,bucket_name:o.bucket_name,access_key:o.access_key,secret_key:o.secret_key},callback:a=>{a&&200===a.status_code&&(h.default.success({message:n?e&&t?(0,O.formatMessage)({id:"notification.success.change"}):(0,O.formatMessage)({id:"notification.success.close"}):(0,O.formatMessage)({id:"notification.success.opened_successfully"})}),this.fetchEnterpriseInfo(),this.handelCloseCloudBackup())}})}),this.fetchEnterpriseInfo=(()=>{var e=this.props,t=e.dispatch,a=e.match.params.eid,l=this.state,s=l.openCertificate,i=l.closeCertificate;if(t({type:"global/fetchEnterpriseInfo",payload:{enterprise_id:a},callback:e=>{!e||s||i||this.setState({israinbondTird:x.default.OauthEnterpriseEnable(e.bean),isEnableAppstoreImageHub:x.default.isEnableAppstoreImageHub(e.bean),isEnableMonitoring:x.default.isEnableMonitoring(e.bean),isEnableObjectStorage:x.default.isEnableObjectStorage(e.bean),AppstoreImageHubValue:x.default.fetchAppstoreImageHub(e.bean),MonitoringValue:x.default.fetchMonitoring(e.bean),ObjectStorageValue:x.default.fetchObjectStorage(e.bean)})}}),s||i)return this.handelCloseCertificate(),null;t({type:"user/fetchCurrent"}),this.handelClone()}),this.handelClone=(()=>{this.setState({showDeleteDomain:!1})}),this.handelOpenCertificate=(()=>{this.setState({openCertificate:!0})}),this.handelOpenCloseCertificate=(()=>{this.setState({closeCertificate:!0})}),this.handelOpenCloseImageHub=(()=>{this.setState({closeImageHub:!0})}),this.handelOpenImageHub=(()=>{this.setState({openImageHub:!0})}),this.handelCloseCertificate=(()=>{this.setState({closeCertificate:!1,openCertificate:!1})}),this.handelCloseImageHub=(()=>{this.setState({closeImageHub:!1,openImageHub:!1})}),this.handelOpenCloudBackup=(()=>{this.setState({openCloudBackup:!0})}),this.handelOpenCloseCloudBackup=(()=>{this.setState({closeCloudBackup:!0})}),this.handelOpenCloseCloudMonitoring=(()=>{this.setState({closeMonitoring:!0})}),this.handelOpenisEnableMonitoring=(()=>{this.setState({openEnableMonitoring:!0})}),this.handelCloseMonitoring=(()=>{this.setState({closeMonitoring:!1,openEnableMonitoring:!1})}),this.handelCloseCloudBackup=(()=>{this.setState({closeCloudBackup:!1,openCloudBackup:!1})}),this.handelOpenBasicInformation=(()=>{this.setState({openBasicInformation:!0})}),this.handelCloseBasicInformation=(()=>{this.setState({openBasicInformation:!1})}),this.handelIsOpenBasicInformation=(e=>{var t=this.props,a=t.dispatch,l=t.match.params.eid;a({type:"global/putBasicInformation",payload:(0,c.default)({},e,{enterprise_id:l}),callback:()=>{this.handelCloseBasicInformation(),this.fetchEnterpriseInfo(),a({type:"global/fetchRainbondInfo",callback:e=>{if(e){var t=x.default.fetchFavicon(e),a=document.querySelector("link[rel*='icon']")||document.createElement("link");a.type="image/x-icon",a.rel="shortcut icon",a.href=t,document.getElementsByTagName("head")[0].appendChild(a)}}})}})}),this.createClusters=(e=>{var t=this.props,a=t.dispatch,l=t.enterprise,s=t.match.params.eid,i=x.default.CertificateIssuedByEnable(l);if(e&&e.auto_ssl_config&&!this.isJSON(e.auto_ssl_config))return null;a({type:"global/putCertificateType",payload:{enterprise_id:s,auto_ssl:{enable:!!e,value:!!e&&e.auto_ssl_config}},callback:t=>{t&&200===t._condition&&(h.default.success({message:e?i?(0,O.formatMessage)({id:"notification.success.edit"}):(0,O.formatMessage)({id:"notification.success.opened_successfully"}):(0,O.formatMessage)({id:"notification.success.close"})}),this.fetchEnterpriseInfo())}})}),this.isJSON=(e=>{var t=()=>{h.default.warning({message:(0,O.formatMessage)({id:"notification.error.json_format_failed"})})};if("string"===typeof e)try{var a=JSON.parse(e);return!("object"!==typeof a||!a)||(t(),!1)}catch(e){return t(),!1}return t(),!1});var t=this.props.enterprise;this.state={enterpriseAdminLoading:!1,showDeleteDomain:!1,openCertificate:!1,closeCertificate:!1,closeImageHub:!1,closeMonitoring:!1,openImageHub:!1,openEnableMonitoring:!1,openCloudBackup:!1,closeCloudBackup:!1,openBasicInformation:!1,israinbondTird:x.default.OauthEnterpriseEnable(t),isEnableAppstoreImageHub:x.default.isEnableAppstoreImageHub(t),AppstoreImageHubValue:x.default.fetchAppstoreImageHub(t),isEnableObjectStorage:x.default.isEnableObjectStorage(t),MonitoringValue:x.default.fetchMonitoring(t),isEnableMonitoring:x.default.isEnableMonitoring(t),ObjectStorageValue:x.default.fetchObjectStorage(t),providers:[{key:"alioss",name:"\u963f\u91cc\u4e91\u5bf9\u8c61\u5b58\u50a8"},{key:"s3",name:"S3"}]}}componentDidMount(){var e=this.props.dispatch;e({type:"global/getIsRegist"})}render(){var e=this.props,t=e.enterprise,a=e.oauthLongin,l=e.certificateLongin,s=e.imageHubLongin,c=e.monitoringLongin,u=e.objectStorageLongin,f=e.rainbondInfo,m=e.match.params.eid,p={};if(f){var g=x.default.fetchLogo(f,t)||E.default,h=x.default.fetchFavicon(t),b=f&&f.title&&f.title.value,L=t&&t.enterprise_alias||f&&f.enterprise_alias,B=x.default.documentPlatform_url(f),A=x.default.officialDemoEnable(t);p={logo:g,title:b,doc_url:B,officialDemo:A,enterprise_alias:L,favicon:h}}var T=x.default.isEnterpriseEdition(f),D=this.state,N=D.enterpriseAdminLoading,F=D.showDeleteDomain,V=D.israinbondTird,R=D.isEnableAppstoreImageHub,q=D.AppstoreImageHubValue,P=D.MonitoringValue,j=D.isEnableObjectStorage,H=D.isEnableMonitoring,X=D.ObjectStorageValue,z=D.openCertificate,U=D.closeCertificate,Z=D.openOauthTable,W=D.openImageHub,J=D.openEnableMonitoring,K=D.closeImageHub,Y=D.closeMonitoring,Q=D.openCloudBackup,G=D.closeCloudBackup,$=D.providers,ee=D.openBasicInformation,te=v.default.createElement(r.default,{hoverable:!0,bordered:!1,style:{borderTop:T?"1px solid  #ccc":"none",borderBottom:"1px solid  #ccc",borderRadius:0}},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.login.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.login.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},v.default.createElement(o.default,{onChange:this.onRegistChange,className:I.default.automaTictelescopingSwitch,checked:this.props.isRegist})))),ae=v.default.createElement("div",null,v.default.createElement(r.default,{style:{borderTop:"1px solid  #ccc"},hoverable:!0,bordered:!1},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.serve.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.serve.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},V&&v.default.createElement("a",{onClick:()=>{this.setState({openOauthTable:!0})},style:{marginRight:"10px"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.checkTheConfiguration"})),v.default.createElement(o.default,{onChange:this.handlChooseeOpen,checked:V,className:I.default.automaTictelescopingSwitch}))))),le=x.default.CertificateIssuedByEnable(t),se=v.default.createElement(r.default,{hoverable:!0,bordered:!1,style:{borderTop:T?"1px solid  #ccc":"none",borderRadius:0}},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.certificate.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.certificate.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},le&&v.default.createElement("a",{onClick:this.handelOpenCertificate,style:{marginRight:"10px"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.checkTheConfiguration"})),v.default.createElement(o.default,{onChange:()=>{le?this.handelOpenCloseCertificate():this.handelOpenCertificate()},checked:le,className:I.default.automaTictelescopingSwitch})))),ie=v.default.createElement(r.default,{hoverable:!0,bordered:!1,style:{borderTop:"1px solid  #ccc",borderRadius:0}},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.mirroring.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.mirroring.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},R&&v.default.createElement("a",{onClick:this.handelOpenImageHub,style:{marginRight:"10px"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.checkTheConfiguration"})),v.default.createElement(o.default,{onChange:()=>{R?this.handelOpenCloseImageHub():this.handelOpenImageHub()},checked:R,className:I.default.automaTictelescopingSwitch})))),re=v.default.createElement(r.default,{hoverable:!0,bordered:!1,style:{borderTop:"1px solid  #ccc",borderRadius:0}},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.storage.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.storage.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},j&&v.default.createElement("a",{onClick:this.handelOpenCloudBackup,style:{marginRight:"10px"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.checkTheConfiguration"})),v.default.createElement(o.default,{onChange:()=>{j?this.handelOpenCloseCloudBackup():this.handelOpenCloudBackup()},checked:j,className:I.default.automaTictelescopingSwitch})))),ne=v.default.createElement(r.default,{hoverable:!0,bordered:!1,style:{borderTop:"1px solid  #ccc",borderRadius:0}},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.monitoring.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.monitoring.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},H&&v.default.createElement("a",{onClick:this.handelOpenisEnableMonitoring,style:{marginRight:"10px"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.checkTheConfiguration"})),v.default.createElement(o.default,{onChange:()=>{H?this.handelOpenCloseCloudMonitoring():this.handelOpenisEnableMonitoring()},checked:H,className:I.default.automaTictelescopingSwitch})))),oe=v.default.createElement(r.default,{style:{marginTop:"10px",borderRadius:0},hoverable:!0,bordered:!1},v.default.createElement(n.default,{type:"flex",align:"middle"},v.default.createElement(d.default,{span:3},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.basicInformation.title"})),v.default.createElement(d.default,{span:17},v.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.45)"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.basicInformation.content"}))),v.default.createElement(d.default,{span:4,style:{textAlign:"right"}},v.default.createElement("a",{onClick:this.handelOpenBasicInformation,style:{marginRight:"10px"}},v.default.createElement(O.FormattedMessage,{id:"enterpriseSetting.basicsSetting.checkTheConfiguration"})))));return v.default.createElement(v.Fragment,null,z&&v.default.createElement(M.default,{eid:m,AutomaticCertificate:le,loading:l,onCancel:this.handelCloseCertificate,onOk:e=>{this.createClusters(e)}}),W&&v.default.createElement(C.default,{eid:m,title:R?(0,O.formatMessage)({id:"enterpriseSetting.basicsSetting.mirroring.modal.comp_title"}):(0,O.formatMessage)({id:"enterpriseSetting.basicsSetting.mirroring.modal.title"}),loading:s,onCancel:this.handelCloseImageHub,data:q,onOk:e=>{this.handelIsOpenImageHub(!0,e)}}),J&&v.default.createElement(k.default,{eid:m,title:(0,O.formatMessage)({id:"enterpriseSetting.basicsSetting.monitoring.modal.title"}),loading:c,onCancel:this.handelCloseMonitoring,data:P,onOk:e=>{this.handelIsOpenMonitorin(!0,e)}}),Q&&v.default.createElement(S.default,{eid:m,title:j?(0,O.formatMessage)({id:"enterpriseSetting.basicsSetting.storage.title"}):(0,O.formatMessage)({id:"enterpriseSetting.basicsSetting.storage.modal.title"}),loading:u,onCancel:this.handelCloseCloudBackup,data:X,providers:$,onOk:e=>{this.handelIsOpenCloudBackup(!0,e)}}),ee&&v.default.createElement(y.default,{title:(0,O.formatMessage)({id:"enterpriseSetting.basicsSetting.basicInformation.title"}),eid:m,loading:u,data:p,onCancel:this.handelCloseBasicInformation,onOk:this.handelIsOpenBasicInformation}),(Y||K||U||F||G)&&v.default.createElement(_.default,{loading:Y?c:K?s:U?l:F?a:!!G&&u,title:(0,O.formatMessage)({id:"confirmModal.close.delete.title"}),desc:Y?(0,O.formatMessage)({id:"confirmModal.delete.monitor.desc"}):K?(0,O.formatMessage)({id:"confirmModal.delete.component_ibrary_mirror.desc"}):U?(0,O.formatMessage)({id:"confirmModal.delete.automatic_issued.desc"}):F?(0,O.formatMessage)({id:"confirmModal.delete.Oauth.desc"}):G?(0,O.formatMessage)({id:"confirmModal.delete.object_storage.desc"}):"",onOk:()=>{Y?this.handelIsOpenMonitorin(!1):K?this.handelIsOpenImageHub(!1):U?this.createClusters(!1):F?this.handelIsOpen(!1):G&&this.handelIsOpenCloudBackup(!1)},onCancel:()=>{Y?this.handelCloseMonitoring():K?this.handelCloseImageHub():U?this.handelCloseCertificate():F?this.handelClone():G&&this.handelCloseCloudBackup()}}),Z&&v.default.createElement(w.default,{eid:m,onOk:()=>{this.setState({openOauthTable:!1})},onCancel:()=>{this.setState({openOauthTable:!1})}}),N?v.default.createElement("div",{className:I.default.example},v.default.createElement(i.default,null)):v.default.createElement("div",{style:{borderTop:"1px solid #ccc",borderBottom:"1px solid #ccc"}},T&&oe,te,se,ae,ie,re,ne))}},f=m))||f),B=(p=(0,b.connect)(e=>{var t=e.global;return{enterprise:t.enterprise}}),p(g=class extends v.PureComponent{render(){var e=this.props.enterprise;return e?v.default.createElement(L,this.props):null}})||g);t.default=B}}]);